<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Comparison</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
            overflow-y: auto;
            max-height: 95vh;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #333;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1rem;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .form-section h2 {
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #555;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .quick-select {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .quick-btn {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            color: #333;
            transition: all 0.3s;
            text-align: center;
        }

        .quick-btn:hover {
            border-color: #667eea;
            color: #667eea;
            background: #f5f5ff;
        }

        .quick-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-calculate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-calculate:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-reset {
            background: #f0f0f0;
            color: #333;
        }

        .btn-reset:hover {
            background: #e0e0e0;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }

        .result-box.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .result-amount {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            word-break: break-word;
        }

        .result-breakdown {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .breakdown-item:last-child {
            margin-bottom: 0;
        }

        .breakdown-label {
            font-weight: 500;
        }

        .breakdown-value {
            font-family: 'Courier New', monospace;
            font-weight: 600;
        }

        .error-message {
            color: #e74c3c;
            background: #fadbd8;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .info-text {
            font-size: 0.9rem;
            color: #999;
            margin-top: 8px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .comparison-note {
            background: #e8f4f8;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
            font-size: 0.95rem;
            color: #333;
            line-height: 1.5;
        }

        .methodology-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9rem;
        }

        .methodology-box h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .methodology-box p {
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .methodology-box p:last-child {
            margin-bottom: 0;
        }

        .formula {
            font-size: 0.8rem;
            opacity: 0.9;
            margin-top: 10px;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .two-column {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .quick-select {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            }

            .result-amount {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Salary Comparison</h1>
            <p>Compare your salary across 30+ global cities</p>
        </div>

        <div class="error-message" id="error"></div>

        <div class="form-section">
            <h2>üìç Current Location</h2>
            <div class="two-column">
                <div class="form-group">
                    <label for="currentSalary">Current Salary</label>
                    <input type="text" id="currentSalary" placeholder="e.g. $60,000">
                </div>
                <div class="form-group">
                    <label for="currentCity">Current City</label>
                    <select id="currentCity">
                        <option value="">Select a city...</option>
                    </select>
                </div>
            </div>
            <div class="two-column">
                <div class="form-group">
                    <label for="currentCurrency">Current Currency</label>
                    <select id="currentCurrency">
                        <option value="">Select currency...</option>
                    </select>
                </div>
            </div>
            <div class="quick-select" id="currentCityQuick"></div>
            <p class="info-text">‚ÑπÔ∏è Select or type to choose your current location</p>
        </div>

        <div class="form-section">
            <h2>‚úàÔ∏è Comparable Location</h2>
            <div class="two-column">
                <div class="form-group">
                    <label for="targetCity">Target City</label>
                    <select id="targetCity">
                        <option value="">Select a city...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="targetCurrency">Target Currency</label>
                    <select id="targetCurrency">
                        <option value="">Select currency...</option>
                    </select>
                </div>
            </div>
            <div class="quick-select" id="targetCityQuick"></div>
            <p class="info-text">‚ÑπÔ∏è Choose where you'd like to compare your salary</p>
        </div>

        <div class="button-group">
            <button class="btn btn-calculate" id="calculateBtn">Check Equivalent Salary</button>
            <button class="btn btn-reset" id="resetBtn">Reset</button>
        </div>

        <div class="result-box" id="resultBox">
            <div class="result-title">Your Equivalent Salary</div>
            <div class="result-amount" id="resultAmount"></div>
            <div class="result-breakdown">
                <div class="breakdown-item">
                    <span class="breakdown-label">Exchange Rate:</span>
                    <span class="breakdown-value" id="exchangeRate"></span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">Cost of Living Adjustment:</span>
                    <span class="breakdown-value" id="colAdjustment"></span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">Your Buying Power:</span>
                    <span class="breakdown-value" id="buyingPower"></span>
                </div>
            </div>
            <div class="comparison-note" id="comparisonNote"></div>
            
            <div class="methodology-box">
                <h3>üìä How This Calculation Works</h3>
                <p>
                    <strong>Cost of Living Adjustment:</strong> Cities have different costs for housing, food, transportation, and other essentials. We use a Cost of Living Index (COLI) where New York = 100 as the baseline. For example, if Bangkok has a COLI of 37.2 and London has 87.5, Bangkok is about 58% cheaper than London. The adjustment multiplier (Target COLI √∑ Current COLI) scales your salary to maintain the same purchasing power.
                </p>
                <p>
                    <strong>Your Buying Power:</strong> This shows what your new salary in the target city can actually buy compared to your current salary. If you earn ¬£60,000 in London and the equivalent is ¬•6,000,000 in Tokyo, both amounts should allow you to afford a similar lifestyle‚Äîsame quality apartment, groceries, dining out, etc. The calculation accounts for both currency conversion AND cost differences, so you're comparing apples to apples.
                </p>
                <p class="formula">
                    <strong>Formula:</strong> Equivalent Salary = Current Salary √ó (Target COLI √∑ Current COLI) √ó Exchange Rate
                </p>
            </div>
        </div>
    </div>

    <script>
        // 2026 Data - Cost of Living Index (New York = 100)
        const coliData = {
            'London': 87.5,
            'New York': 100,
            'Madrid': 38.0,
            'Paris': 46.9,
            'Singapore': 87.7,
            'Bangkok': 37.2,
            'Dubai': 72.4,
            'Tokyo': 77.3,
            'Sydney': 74.5,
            'Toronto': 62.3,
            'Barcelona': 42.1,
            'Amsterdam': 82.6,
            'Berlin': 51.2,
            'Istanbul': 23.1,
            'Mexico City': 32.5,
            'S√£o Paulo': 41.8,
            'Hong Kong': 73.6,
            'Seoul': 68.9,
            'Lisbon': 34.7,
            'Athens': 30.6,
            'Prague': 30.6,
            'Budapest': 26.1,
            'Warsaw': 28.4,
            'Vienna': 48.2,
            'Stockholm': 64.3,
            'Copenhagen': 85.7,
            'San Francisco': 97.6,
            'Los Angeles': 76.3,
            'Chicago': 73.2,
            'Vancouver': 65.4
        };

        // 2026 Exchange Rates (vs GBP)
        const exchangeRates = {
            'GBP': 1.0,
            'USD': 1.328,
            'EUR': 1.126,
            'SGD': 1.73,
            'JPY': 205.72,
            'AED': 4.811,
            'THB': 41.157,
            'AUD': 1.887,
            'CAD': 1.798,
            'CHF': 1.076,
            'CNY': 8.94,
            'HKD': 10.4,
            'INR': 110.5,
            'MYR': 5.4,
            'NZD': 2.14,
            'SEK': 12.09,
            'NOK': 13.34,
            'DKK': 8.43,
            'CZK': 30.6,
            'HUF': 477,
            'PLN': 5.2,
            'TRY': 42.5,
            'BRL': 6.7,
            'MXN': 22.5,
            'ZAR': 24.2,
            'KRW': 1686,
            'TWD': 42.0,
            'IDR': 20500
        };

        const cities = Object.keys(coliData).sort();
        const currencies = Object.keys(exchangeRates).sort();

        // Populate dropdowns
        function populateSelects() {
            const currentCitySelect = document.getElementById('currentCity');
            const targetCitySelect = document.getElementById('targetCity');
            const currentCurrencySelect = document.getElementById('currentCurrency');
            const targetCurrencySelect = document.getElementById('targetCurrency');

            cities.forEach(city => {
                let option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                currentCitySelect.appendChild(option);

                option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                targetCitySelect.appendChild(option);
            });

            currencies.forEach(curr => {
                let option = document.createElement('option');
                option.value = curr;
                option.textContent = curr;
                currentCurrencySelect.appendChild(option);

                option = document.createElement('option');
                option.value = curr;
                option.textContent = curr;
                targetCurrencySelect.appendChild(option);
            });
        }

        // Create quick select buttons
        function createQuickButtons() {
            const popularCities = ['London', 'New York', 'Madrid', 'Paris', 'Singapore', 'Dubai', 'Tokyo', 'Bangkok'];
            
            const currentQuick = document.getElementById('currentCityQuick');
            const targetQuick = document.getElementById('targetCityQuick');

            popularCities.forEach(city => {
                let btn1 = document.createElement('button');
                btn1.type = 'button';
                btn1.className = 'quick-btn';
                btn1.textContent = city;
                btn1.addEventListener('click', () => {
                    document.getElementById('currentCity').value = city;
                    document.querySelectorAll('#currentCityQuick .quick-btn').forEach(b => b.classList.remove('active'));
                    btn1.classList.add('active');
                });
                currentQuick.appendChild(btn1);

                let btn2 = document.createElement('button');
                btn2.type = 'button';
                btn2.className = 'quick-btn';
                btn2.textContent = city;
                btn2.addEventListener('click', () => {
                    document.getElementById('targetCity').value = city;
                    document.querySelectorAll('#targetCityQuick .quick-btn').forEach(b => b.classList.remove('active'));
                    btn2.classList.add('active');
                });
                targetQuick.appendChild(btn2);
            });
        }

        // Show/hide error
        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 5000);
        }

        // Format salary input with commas as user types
        const salaryInput = document.getElementById('currentSalary');
        salaryInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/,/g, '').replace(/[^\d.]/g, '');

            if (value === '') {
                e.target.value = '';
                return;
            }

            const parts = value.split('.');
            let integerPart = parts[0];
            let decimalPart = parts[1] || '';

            integerPart = integerPart.replace(/^0+(?=\d)/, '');
            const formattedInteger = Number(integerPart).toLocaleString('en-US');

            let formatted = formattedInteger;
            if (decimalPart.length > 0) {
                decimalPart = decimalPart.slice(0, 2);
                formatted += '.' + decimalPart;
            }

            e.target.value = formatted;
        });

        // Calculate salary
        document.getElementById('calculateBtn').addEventListener('click', () => {
            const rawSalary = document.getElementById('currentSalary').value
                .replace(/,/g, '')
                .replace(/[^\d.]/g, '');
            const salary = parseFloat(rawSalary);

            const currentCity = document.getElementById('currentCity').value;
            const currentCurrency = document.getElementById('currentCurrency').value;
            const targetCity = document.getElementById('targetCity').value;
            const targetCurrency = document.getElementById('targetCurrency').value;

            if (!salary || salary <= 0) {
                showError('Please enter a valid salary amount');
                return;
            }
            if (!currentCity) {
                showError('Please select your current city');
                return;
            }
            if (!currentCurrency) {
                showError('Please select your current currency');
                return;
            }
            if (!targetCity) {
                showError('Please select a comparable city');
                return;
            }
            if (!targetCurrency) {
                showError('Please select a target currency');
                return;
            }

            const currentCOLI = coliData[currentCity];
            const targetCOLI = coliData[targetCity];
            const currentToGBP = 1 / exchangeRates[currentCurrency];
            const GBPtoTarget = exchangeRates[targetCurrency];
            const exchangeRate = currentToGBP * GBPtoTarget;
            const colRatio = targetCOLI / currentCOLI;
            const equivalentSalary = salary * colRatio * exchangeRate;

            const formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: targetCurrency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });

            const formattedAmount = formatter.format(equivalentSalary);
            const difference = ((equivalentSalary / (salary * exchangeRate)) - 1) * 100;
            const diffText = difference > 0 
                ? `${difference.toFixed(1)}% higher` 
                : `${Math.abs(difference).toFixed(1)}% lower`;

            const formattedOriginalCurrent = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: currentCurrency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(salary);

            document.getElementById('resultAmount').textContent = formattedAmount;
            document.getElementById('exchangeRate').textContent = `1 ${currentCurrency} = ${exchangeRate.toFixed(2)} ${targetCurrency}`;
            document.getElementById('colAdjustment').textContent = `${colRatio.toFixed(2)}x (Cost of living ratio)`;
            document.getElementById('buyingPower').textContent = `Same as ${formattedOriginalCurrent} in ${currentCity}`;

            const note = `
                Your salary adjusted from <strong>${formattedOriginalCurrent}</strong> in ${currentCity} 
                to <strong>${formattedAmount}</strong> in ${targetCity}. 
                That's ${diffText} due to cost of living differences.
            `;
            document.getElementById('comparisonNote').innerHTML = note;

            document.getElementById('resultBox').classList.add('show');
        });

        // Reset form
        document.getElementById('resetBtn').addEventListener('click', () => {
            document.getElementById('currentSalary').value = '';
            document.getElementById('currentCity').value = '';
            document.getElementById('currentCurrency').value = '';
            document.getElementById('targetCity').value = '';
            document.getElementById('targetCurrency').value = '';
            document.getElementById('resultBox').classList.remove('show');
            document.querySelectorAll('.quick-btn').forEach(b => b.classList.remove('active'));
        });

        // Allow Enter key to calculate
        document.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('calculateBtn').click();
            }
        });

        // Initialize
        populateSelects();
        createQuickButtons();
    </script>
</body>
</html>
