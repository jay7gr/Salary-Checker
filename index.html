<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Converter ‚Äî Compare Salaries Across 100 Cities & 1,000+ Neighborhoods</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free salary comparison tool. Compare salaries across 100 cities and over 1,000 neighborhoods worldwide with cost of living adjustments and real-time currency conversion.">
    <meta name="keywords" content="salary converter, salary comparison, cost of living, salary calculator, relocation, city comparison, neighborhood cost, currency converter, expat salary">
    <meta name="author" content="salary:converter">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://salary-converter.com/">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/favicon.svg">

    <!-- Open Graph (Facebook, LinkedIn, WhatsApp) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://salary-converter.com/">
    <meta property="og:title" content="Salary Converter ‚Äî Compare Salaries Across 100 Cities">
    <meta property="og:description" content="Free tool to compare salaries across 100 cities and 1,000+ neighborhoods. Adjust for cost of living and currency conversion instantly.">
    <meta property="og:image" content="https://salary-converter.com/og-image.svg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="salary:converter">
    <meta property="og:locale" content="en_US">

    <!-- Twitter/X Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Salary Converter ‚Äî Compare Salaries Across 100 Cities">
    <meta name="twitter:description" content="Free tool to compare salaries across 100 cities and 1,000+ neighborhoods. Adjust for cost of living and currency conversion instantly.">
    <meta name="twitter:image" content="https://salary-converter.com/og-image.svg">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Salary Converter",
        "alternateName": "salary:converter",
        "url": "https://salary-converter.com",
        "description": "Compare salaries across 100 cities and over 1,000 neighborhoods worldwide with cost of living adjustments and real-time currency conversion.",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "salary:converter",
            "url": "https://salary-converter.com"
        },
        "featureList": [
            "Compare salaries across 100 global cities",
            "1,000+ neighborhood-level cost adjustments",
            "Real-time currency conversion for 40+ currencies",
            "Cost of living index comparison",
            "Free embeddable widget"
        ],
        "screenshot": "https://salary-converter.com/og-image.svg"
    }
    </script>

    <!-- Google Consent Mode v2 ‚Äî deny by default for GDPR/CCPA/equivalent regions -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}

        // Deny consent by default for regions with privacy laws (GDPR, CCPA, LGPD, POPIA, PDPA, etc.)
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied',
            'regions': ['AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE','IS','LI','NO','GB','CH','US-CA','US-VA','US-CO','US-CT','US-UT','US-TX','US-OR','US-MT','US-IA','US-IN','US-TN','US-DE','US-NH','US-NJ','US-NE','US-MN','US-MD','US-KY','US-RI','BR','KR','JP','ZA','CA','AU','NZ','AR','IL','TR','TH','SG','IN','PH','KE','NG','AE','QA','BH','EG','CL','CO','PE','UY']
        });

        // Deny consent by default for all other regions
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied'
        });
    </script>
    <!-- End Consent Mode ‚Äî add your cookie banner script below -->

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MMZSM2Z96B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-MMZSM2Z96B');
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f5f7;
            min-height: 100vh;
            padding: 20px 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .page-layout {
            display: flex;
            gap: 16px;
            max-width: 1200px;
            width: 100%;
            align-items: flex-start;
        }

        .container {
            background: white;
            border-radius: 24px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
            max-width: 860px;
            width: 100%;
            padding: 32px 28px;
            align-self: flex-start;
            flex: 1;
            min-width: 0;
        }

        /* Sidebar */
        .sidebar {
            width: 300px;
            flex-shrink: 0;
            position: sticky;
            top: 40px;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
            scrollbar-width: none;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar::-webkit-scrollbar {
            width: 0;
        }

        .sidebar-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
            padding: 24px;
        }

        .sidebar-card h3 {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: #1d1d1f;
            margin-bottom: 16px;
        }

        /* Cost of Living Rankings */
        /* Currency Ticker */

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            color: #1d1d1f;
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .header p {
            color: #86868b;
            font-size: 1.15rem;
            font-weight: 400;
        }

        .blog-link {
            position: absolute;
            top: 0;
            left: -10px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #2563eb;
            text-decoration: none;
            transition: opacity 0.2s;
        }

        .blog-link:hover {
            opacity: 0.7;
        }

        .widget-link {
            position: absolute;
            top: 18px;
            left: -10px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #2563eb;
            text-decoration: none;
            transition: opacity 0.2s;
        }

        .widget-link:hover {
            opacity: 0.7;
        }

        /* Nav burger menu ‚Äî hidden on desktop, shown on mobile */
        .nav-burger {
            display: none;
            position: absolute;
            top: 0;
            left: -10px;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 10px;
            background: #f5f5f7;
            cursor: pointer;
            font-size: 1.1rem;
            z-index: 100;
            transition: background 0.2s;
        }

        .nav-burger:hover {
            background: #e8e8ed;
        }

        .nav-dropdown {
            display: none;
            position: absolute;
            top: 42px;
            left: -10px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
            padding: 6px;
            z-index: 100;
            min-width: 160px;
            animation: dropIn 0.2s ease-out;
        }

        .nav-dropdown.open {
            display: block;
        }

        @keyframes dropIn {
            from { opacity: 0; transform: translateY(-6px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nav-dropdown a {
            display: flex;
            align-items: center;
            padding: 10px 14px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #1d1d1f;
            text-decoration: none;
            border-radius: 8px;
            transition: background 0.15s;
        }

        .nav-dropdown a:hover {
            background: #f5f5f7;
        }

        .nav-dropdown a span {
            display: inline-flex;
            width: 20px;
            margin-right: 8px;
            justify-content: center;
            flex-shrink: 0;
        }

        .blog-article-card {
            display: block;
            text-decoration: none;
            padding: 16px;
            border-radius: 14px;
            background: #f5f5f7;
            transition: all 0.2s;
        }

        .blog-article-card:hover {
            background: #ededf0;
            transform: translateY(-2px);
        }

        .blog-article-tag {
            font-size: 0.6rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #2563eb;
            margin-bottom: 6px;
        }

        .blog-article-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: #1d1d1f;
            line-height: 1.35;
            margin-bottom: 6px;
        }

        .blog-article-excerpt {
            font-size: 0.75rem;
            color: #86868b;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .blog-article-meta {
            font-size: 0.65rem;
            color: #aeaeb2;
        }

        .blog-card-cta {
            display: block;
            text-align: center;
            margin-top: 14px;
            font-size: 0.75rem;
            font-weight: 600;
            color: #2563eb;
            text-decoration: none;
            padding: 9px 16px;
            border-radius: 10px;
            background: rgba(37, 99, 235, 0.08);
            transition: all 0.2s;
        }

        .blog-card-cta:hover {
            background: rgba(37, 99, 235, 0.15);
        }

        /* Footer */
        .site-footer {
            max-width: 1200px;
            width: 100%;
            margin: 40px auto 0;
            padding: 32px 24px;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            text-align: center;
        }

        .site-footer-logo {
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            color: #1d1d1f;
            margin-bottom: 6px;
        }

        .site-footer-logo span {
            color: #2563eb;
        }

        .site-footer-text {
            font-size: 0.8rem;
            color: #86868b;
            margin-bottom: 14px;
        }

        .site-footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
        }

        .site-footer-links a {
            font-size: 0.8rem;
            font-weight: 500;
            color: #86868b;
            text-decoration: none;
            transition: color 0.2s;
        }

        .site-footer-links a:hover {
            color: #1d1d1f;
        }

        .form-section {
            margin-bottom: 12px;
            padding-bottom: 32px;
        }

        .form-section + .form-section {
            border-top: 1px solid #e8e8ed;
            padding-top: 32px;
        }

        .form-section h2 {
            color: #1d1d1f;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 22px;
            display: flex;
            align-items: baseline;
            gap: 8px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            flex-wrap: wrap;
        }

        .section-subtitle {
            text-transform: none;
            font-weight: 400;
            font-size: 0.8rem;
            color: #999;
            letter-spacing: 0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #86868b;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 0.875rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #d2d2d7;
            border-radius: 12px;
            font-size: 1rem;
            color: #1d1d1f;
            background: #ffffff;
            transition: border-color 0.2s, box-shadow 0.2s;
            font-family: inherit;
            appearance: none;
            -webkit-appearance: none;
        }

        .form-group select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%2386868b' d='M1.41 0L6 4.58 10.59 0 12 1.41l-6 6-6-6z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
        }

        .form-group input::placeholder {
            color: #c7c7cc;
        }

        .quick-select {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 14px;
            margin-bottom: 22px;
        }

        .quick-btn {
            padding: 7px 18px;
            border: 1px solid #d2d2d7;
            background: #ffffff;
            border-radius: 100px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            color: #1d1d1f;
            transition: all 0.2s;
            text-align: center;
            white-space: nowrap;
        }

        .quick-btn:hover {
            border-color: #2563eb;
            color: #2563eb;
            background: #f0f4ff;
        }

        .quick-btn.active {
            background: #2563eb;
            color: white;
            border-color: #2563eb;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 36px;
            padding-top: 32px;
            border-top: 1px solid #e8e8ed;
        }

        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 14px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .btn-calculate {
            background: #2563eb;
            color: white;
        }

        .btn-calculate:hover {
            background: #1d4ed8;
        }

        .btn-reset {
            background: transparent;
            color: #2563eb;
            border: 1px solid #d2d2d7;
        }

        .btn-reset:hover {
            background: #f5f5f7;
        }

        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .result-box {
            background: #f5f5f7;
            color: #1d1d1f;
            padding: 36px;
            border-radius: 20px;
            margin-top: 32px;
            display: none;
            border: 1px solid #e8e8ed;
        }

        .result-box.show {
            display: block;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(8px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 12px;
            color: #86868b;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .result-amount {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 24px;
            word-break: break-word;
            letter-spacing: -0.5px;
            color: #1d1d1f;
        }

        .result-breakdown {
            background: rgba(0, 0, 0, 0.04);
            padding: 20px 24px;
            border-radius: 14px;
            margin-top: 24px;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 14px;
            font-size: 0.95rem;
        }

        .breakdown-item:last-child {
            margin-bottom: 0;
        }

        .breakdown-label {
            font-weight: 400;
            color: #86868b;
        }

        .breakdown-value {
            font-weight: 600;
            font-variant-numeric: tabular-nums;
            color: #1d1d1f;
        }

        .error-message {
            color: #dc2626;
            background: #fef2f2;
            border: 1px solid #fecaca;
            padding: 14px 18px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: none;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .error-message.show {
            display: block;
        }

        .info-text {
            font-size: 0.85rem;
            color: #86868b;
            margin-top: 6px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
                background: white;
            }

            body.dark {
                background: #1c1c1e;
            }

            .page-layout {
                flex-direction: column;
                gap: 0;
            }

            .sidebar {
                width: 100%;
                position: static;
                max-height: none;
                overflow-y: visible;
                padding: 0 16px 16px;
            }

            .sidebar-card {
                border-radius: 16px;
            }

            .container {
                padding: 20px 16px;
                border-radius: 0;
                box-shadow: none;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .header p {
                font-size: 1rem;
            }

            .blog-link,
            .widget-link {
                display: none;
            }

            .nav-burger {
                display: flex;
                position: fixed;
                top: 16px;
                left: 16px;
                z-index: 10000;
            }

            .nav-dropdown {
                position: fixed;
                top: 58px;
                left: 16px;
                z-index: 10000;
            }

            .section-subtitle {
                display: block;
                width: 100%;
                font-size: 0.75rem;
                margin-top: -2px;
            }

            .two-column {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .quick-select {
                gap: 6px;
            }

            .quick-btn {
                padding: 6px 14px;
                font-size: 0.8rem;
            }

            .result-amount {
                font-size: 2.4rem;
            }

            .result-box {
                padding: 28px 24px;
            }

            /* Mobile theme toggle: icon-only, sticky bottom-right */
            .theme-toggle {
                position: fixed !important;
                top: auto !important;
                right: 20px !important;
                bottom: 20px !important;
                left: auto !important;
                width: 48px;
                height: 48px;
                padding: 0;
                border-radius: 50%;
                justify-content: center;
                background: #2d1b69;
                border: 1px solid #3a2578;
                box-shadow: 0 2px 12px rgba(45, 27, 105, 0.35);
                font-size: 1.3rem;
                z-index: 9999;
            }

            .theme-toggle .theme-label {
                display: none;
            }

            body.dark .theme-toggle {
                background: #3d3530 !important;
                border-color: #4e443d !important;
                box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
            }
        }

        .comparison-note {
            background: rgba(0, 0, 0, 0.03);
            border-left: 3px solid #2563eb;
            padding: 16px 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.95rem;
            color: #1d1d1f;
            line-height: 1.6;
        }

        .explanation-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
        }

        .explanation-title {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: #86868b;
            margin-bottom: 14px;
        }

        .explanation-step {
            display: flex;
            gap: 12px;
            margin-bottom: 14px;
            font-size: 0.9rem;
            line-height: 1.5;
            color: #48484a;
        }

        .explanation-step:last-child {
            margin-bottom: 0;
        }

        .step-number {
            flex-shrink: 0;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #2563eb;
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .step-text strong {
            color: #1d1d1f;
        }

        .currency-hint {
            font-size: 0.8rem;
            color: #2563eb;
            margin-top: 6px;
            font-weight: 500;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .currency-hint.show {
            opacity: 1;
        }

        /* Neighborhood styles */
        .neighborhood-group {
            margin-bottom: 20px;
            animation: fadeSlideIn 0.3s ease-out;
        }

        @keyframes fadeSlideIn {
            from {
                opacity: 0;
                transform: translateY(-8px);
                max-height: 0;
            }
            to {
                opacity: 1;
                transform: translateY(0);
                max-height: 120px;
            }
        }

        .neighborhood-hint {
            font-size: 0.8rem;
            color: #86868b;
            margin-top: 6px;
            font-weight: 400;
            font-style: italic;
        }

        .optional-tag {
            font-size: 0.7rem;
            font-weight: 500;
            color: #2563eb;
            background: rgba(37, 99, 235, 0.08);
            padding: 2px 8px;
            border-radius: 100px;
            margin-left: 6px;
            vertical-align: middle;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .neighborhood-modifier {
            display: inline-block;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 100px;
            margin-left: 4px;
        }

        .modifier-high {
            color: #dc2626;
            background: rgba(220, 38, 38, 0.08);
        }

        .modifier-low {
            color: #16a34a;
            background: rgba(22, 163, 74, 0.08);
        }

        .modifier-avg {
            color: #86868b;
            background: rgba(134, 134, 139, 0.08);
        }

        /* Dark mode toggle ‚Äî light mode: dark black-purple */
        .theme-toggle {
            position: absolute;
            top: 0;
            right: 0;
            background: #2d1b69;
            border: 1px solid #3a2578;
            border-radius: 100px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            color: #d4ccf0;
            font-family: inherit;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .theme-toggle:hover {
            background: #3a2578;
            border-color: #482e8a;
        }

        .header {
            position: relative;
        }

        /* Dark mode overrides */
        body.dark {
            background: #000000;
        }

        body.dark .container {
            background: #1c1c1e;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
        }

        body.dark .header h1 {
            color: #f5f5f7;
        }

        body.dark .header p {
            color: #86868b;
        }

        body.dark .blog-link {
            color: #5b9aff;
        }

        body.dark .widget-link {
            color: #5b9aff;
        }

        body.dark .nav-burger {
            background: #2c2c2e;
            color: #f5f5f7;
        }

        body.dark .nav-burger:hover {
            background: #3a3a3c;
        }

        body.dark .nav-dropdown {
            background: #2c2c2e;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        body.dark .nav-dropdown a {
            color: #f5f5f7;
        }

        body.dark .nav-dropdown a:hover {
            background: #3a3a3c;
        }

        body.dark .blog-article-card {
            background: #2c2c2e;
        }

        body.dark .blog-article-card:hover {
            background: #3a3a3c;
        }

        body.dark .blog-article-tag {
            color: #5b9aff;
        }

        body.dark .blog-article-title {
            color: #f5f5f7;
        }

        body.dark .blog-article-excerpt {
            color: #98989f;
        }

        body.dark .blog-article-meta {
            color: #636366;
        }

        body.dark .blog-card-cta {
            color: #5b9aff;
            background: rgba(91, 154, 255, 0.1);
        }

        body.dark .blog-card-cta:hover {
            background: rgba(91, 154, 255, 0.18);
        }

        body.dark .site-footer {
            border-top-color: #38383a;
        }

        body.dark .site-footer-logo {
            color: #f5f5f7;
        }

        body.dark .site-footer-text {
            color: #98989f;
        }

        body.dark .site-footer-links a {
            color: #98989f;
        }

        body.dark .site-footer-links a:hover {
            color: #f5f5f7;
        }

        body.dark .form-section + .form-section {
            border-top-color: #38383a;
        }

        body.dark .form-section h2 {
            color: #f5f5f7;
        }

        body.dark .form-group label {
            color: #98989f;
        }

        body.dark .form-group input {
            background: #2c2c2e;
            border-color: #38383a;
            color: #f5f5f7;
        }

        body.dark .form-group select {
            background-color: #2c2c2e;
            border-color: #38383a;
            color: #f5f5f7;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%2398989f' d='M1.41 0L6 4.58 10.59 0 12 1.41l-6 6-6-6z'/%3E%3C/svg%3E");
        }

        body.dark .form-group select option {
            background: #2c2c2e;
            color: #f5f5f7;
        }

        body.dark .form-group input::placeholder {
            color: #636366;
        }

        body.dark .form-group input:focus,
        body.dark .form-group select:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
        }

        body.dark .quick-btn {
            background: #2c2c2e;
            border-color: #38383a;
            color: #f5f5f7;
        }

        body.dark .quick-btn:hover {
            background: #3a3a3c;
            border-color: #3b82f6;
            color: #3b82f6;
        }

        body.dark .quick-btn.active {
            background: #3b82f6;
            border-color: #3b82f6;
            color: white;
        }

        body.dark .button-group {
            border-top-color: #38383a;
        }

        body.dark .btn-calculate {
            background: #3b82f6;
        }

        body.dark .btn-calculate:hover {
            background: #2563eb;
        }

        body.dark .btn-reset {
            color: #3b82f6;
            border-color: #38383a;
        }

        body.dark .btn-reset:hover {
            background: #2c2c2e;
        }

        body.dark .result-box {
            background: #2c2c2e;
            border-color: #38383a;
        }

        body.dark .result-title {
            color: #98989f;
        }

        body.dark .result-amount {
            color: #f5f5f7;
        }

        body.dark .result-breakdown {
            background: rgba(255, 255, 255, 0.06);
        }

        body.dark .breakdown-label {
            color: #98989f;
        }

        body.dark .breakdown-value {
            color: #f5f5f7;
        }

        body.dark .comparison-note {
            background: rgba(255, 255, 255, 0.04);
            border-left-color: #3b82f6;
            color: #e5e5e7;
        }

        body.dark .explanation-section {
            border-top-color: rgba(255, 255, 255, 0.08);
        }

        body.dark .explanation-title {
            color: #98989f;
        }

        body.dark .explanation-step {
            color: #a1a1a6;
        }

        body.dark .step-text strong {
            color: #f5f5f7;
        }

        body.dark .step-number {
            background: #3b82f6;
        }

        body.dark .error-message {
            background: #3a1c1c;
            color: #f87171;
            border-color: #5c2020;
        }

        body.dark .info-text {
            color: #636366;
        }

        body.dark .currency-hint {
            color: #3b82f6;
        }

        body.dark .neighborhood-hint {
            color: #636366;
        }

        body.dark .optional-tag {
            color: #3b82f6;
            background: rgba(59, 130, 246, 0.12);
        }

        body.dark .modifier-high {
            color: #f87171;
            background: rgba(248, 113, 113, 0.12);
        }

        body.dark .modifier-low {
            color: #4ade80;
            background: rgba(74, 222, 128, 0.12);
        }

        body.dark .modifier-avg {
            color: #636366;
            background: rgba(99, 99, 102, 0.12);
        }

        body.dark .theme-toggle {
            background: #3d3530;
            border-color: #4e443d;
            color: #e8ddd0;
        }

        body.dark .theme-toggle:hover {
            background: #4e443d;
            border-color: #5f5348;
        }

        body.dark .form-section h2 span {
            color: #636366 !important;
        }

        body.dark .logo-text {
            color: #f5f5f7 !important;
        }

        body.dark .logo-option svg {
            color: #f5f5f7;
        }

        /* Dark mode ‚Äî sidebar */
        body.dark .sidebar-card {
            background: #1c1c1e;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
        }

        body.dark .sidebar-card h3 {
            color: #f5f5f7;
        }

        /* Burger button ‚Äî hidden on desktop, shown on mobile */
        .sidebar-burger {
            display: none;
        }

        .sidebar-overlay {
            display: none;
        }

        @media (max-width: 768px) {
            .sidebar-burger {
                display: none !important;
            }

            .sidebar-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.4);
                z-index: 9997;
                opacity: 0;
                transition: opacity 0.3s;
            }

            .sidebar-overlay.show {
                display: block;
                opacity: 1;
            }

            .sidebar {
                position: fixed !important;
                top: 0 !important;
                right: -320px;
                bottom: 0;
                width: 300px !important;
                max-height: 100vh !important;
                padding: 20px;
                background: #f5f5f7;
                z-index: 9998;
                transition: right 0.3s ease;
                overflow-y: auto !important;
                border-radius: 0 !important;
                gap: 16px;
            }

            body.dark .sidebar {
                background: #000000;
            }

            .sidebar.open {
                right: 0;
            }
        }

    </style>
</head>
<body>
    <button class="sidebar-burger" id="sidebarBurger" aria-label="Toggle stats panel">
        <span class="burger-icon">üìä</span>
    </button>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="page-layout">
    <div class="container">
        <div class="header">
            <a href="/blog" class="blog-link">Read our Blog</a>
            <a href="https://salary-converter.com/widget.html" class="widget-link">Free Widget</a>
            <button class="nav-burger" id="navBurger" aria-label="Menu">‚ò∞</button>
            <div class="nav-dropdown" id="navDropdown">
                <a href="/blog"><span>üìù</span>Read our Blog</a>
                <a href="https://salary-converter.com/widget.html"><span>üß©</span>Free Widget</a>
            </div>
            <button class="theme-toggle" id="themeToggle">
                <span id="themeIcon">üåô</span>
                <span id="themeLabel" class="theme-label">Dark Mode</span>
            </button>
            <div style="margin-bottom: 8px;">
                <div style="font-size: 2.5rem; font-weight: 700; letter-spacing: -1px; color: #1d1d1f; line-height: 1;" class="logo-text">
                    salary<span style="color: #2563eb;">:</span>converter
                </div>
                <div style="width: 40px; height: 3px; background: #2563eb; border-radius: 2px; margin: 10px auto 0;"></div>
            </div>
            <p style="color: #86868b; font-size: 1.15rem; font-weight: 400; margin-top: 14px;">Compare salaries across 100 cities and over 1,000 neighborhoods worldwide.</p>
        </div>

        <div class="error-message" id="error"></div>

        <div class="form-section">
            <h2>üìç Current Location</h2>
            <div class="two-column">
                <div class="form-group">
                    <label for="currentSalary">Current Salary</label>
                    <input type="text" id="currentSalary" placeholder="e.g. $60,000">
                </div>
                <div class="form-group">
                    <label for="currentCity">Current City</label>
                    <select id="currentCity">
                        <option value="">Select a city...</option>
                    </select>
                </div>
            </div>
            <div class="quick-select" id="currentCityQuick"></div>
            <div class="neighborhood-group" id="currentNeighborhoodGroup" style="display: none;">
                <div class="form-group">
                    <label for="currentNeighborhood">Neighborhood <span class="optional-tag">Optional</span></label>
                    <select id="currentNeighborhood">
                        <option value="">City average (no adjustment)</option>
                    </select>
                    <div class="neighborhood-hint" id="currentNeighborhoodHint">Selecting a neighborhood adjusts the cost of living for that specific area</div>
                </div>
            </div>
            <div class="two-column">
                <div class="form-group">
                    <label for="currentCurrency">Current Currency</label>
                    <select id="currentCurrency">
                        <option value="">Select currency...</option>
                    </select>
                    <div class="currency-hint" id="currentCurrencyHint"></div>
                </div>
            </div>
            <p class="info-text">‚ÑπÔ∏è Select or type to choose your current location</p>
        </div>

        <div class="form-section">
            <h2>‚úàÔ∏è Comparable Location <span class="section-subtitle">(what if I were to move to this city?)</span></h2>
            <div class="two-column">
                <div class="form-group">
                    <label for="targetCity">Target City</label>
                    <select id="targetCity">
                        <option value="">Select a city...</option>
                    </select>
                </div>
            </div>
            <div class="quick-select" id="targetCityQuick"></div>
            <div class="neighborhood-group" id="targetNeighborhoodGroup" style="display: none;">
                <div class="form-group">
                    <label for="targetNeighborhood">Neighborhood <span class="optional-tag">Optional</span></label>
                    <select id="targetNeighborhood">
                        <option value="">City average (no adjustment)</option>
                    </select>
                    <div class="neighborhood-hint" id="targetNeighborhoodHint">Selecting a neighborhood adjusts the cost of living for that specific area</div>
                </div>
            </div>
            <div class="two-column">
                <div class="form-group">
                    <label for="targetCurrency">Target Currency</label>
                    <select id="targetCurrency">
                        <option value="">Select currency...</option>
                    </select>
                    <div class="currency-hint" id="targetCurrencyHint"></div>
                </div>
            </div>
            <p class="info-text">‚ÑπÔ∏è Choose where you'd like to compare your salary</p>
        </div>

        <div class="button-group">
            <button class="btn btn-calculate" id="calculateBtn">Check Equivalent Salary</button>
            <button class="btn btn-reset" id="resetBtn">Reset</button>
        </div>

        <div class="result-box" id="resultBox">
            <div class="result-title">Your Equivalent Salary</div>
            <div class="result-amount" id="resultAmount"></div>
            <div class="result-breakdown">
                <div class="breakdown-item">
                    <span class="breakdown-label">Exchange Rate:</span>
                    <span class="breakdown-value" id="exchangeRate"></span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">Cost of Living Adjustment:</span>
                    <span class="breakdown-value" id="colAdjustment"></span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">Your Buying Power:</span>
                    <span class="breakdown-value" id="buyingPower"></span>
                </div>
            </div>
            <div class="comparison-note" id="comparisonNote"></div>
            <div class="explanation-section" id="explanationSection"></div>
        </div>
    </div>

    <aside class="sidebar">
        <div class="sidebar-card">
            <h3>üìù From the Blog</h3>
            <div id="blogArticlesList" style="display: flex; flex-direction: column; gap: 10px;">
                <!-- All 14 articles ‚Äî JS will randomly show 3 on each page load -->
                <a href="/blog/articles/how-cost-of-living-affects-your-salary.html" class="blog-article-card" data-blog-article data-tag="Featured" data-title="How Cost of Living Actually Affects Your Salary" data-meta="10 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Featured</div>
                    <div class="blog-article-title">How Cost of Living Actually Affects Your Salary</div>
                    <div class="blog-article-meta">10 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/top-10-cities-for-remote-workers-2026.html" class="blog-article-card" data-blog-article data-tag="Remote Work" data-title="Top 10 Cities for Remote Workers in 2026" data-meta="7 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Remote Work</div>
                    <div class="blog-article-title">Top 10 Cities for Remote Workers in 2026</div>
                    <div class="blog-article-meta">7 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/salary-negotiation-when-relocating-abroad.html" class="blog-article-card" data-blog-article data-tag="Career" data-title="How to Negotiate Your Salary When Relocating Abroad" data-meta="8 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Career</div>
                    <div class="blog-article-title">How to Negotiate Your Salary When Relocating Abroad</div>
                    <div class="blog-article-meta">8 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/london-vs-new-york-true-cost-comparison.html" class="blog-article-card" data-blog-article data-tag="City Guide" data-title="London vs New York: True Cost Comparison" data-meta="9 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">City Guide</div>
                    <div class="blog-article-title">London vs New York: True Cost Comparison</div>
                    <div class="blog-article-meta">9 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/most-expensive-cities-in-the-world-2026.html" class="blog-article-card" data-blog-article data-tag="Data" data-title="Most Expensive Cities in the World 2026" data-meta="12 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Data</div>
                    <div class="blog-article-title">Most Expensive Cities in the World 2026</div>
                    <div class="blog-article-meta">12 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/what-is-a-good-salary-by-city-2026.html" class="blog-article-card" data-blog-article data-tag="Guide" data-title="What Is a Good Salary in Your City? 2026 Guide" data-meta="15 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Guide</div>
                    <div class="blog-article-title">What Is a Good Salary in Your City? 2026 Guide</div>
                    <div class="blog-article-meta">15 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/cost-of-living-adjustment-cola-guide-2026.html" class="blog-article-card" data-blog-article data-tag="Finance" data-title="Cost of Living Adjustment (COLA): 2026 Guide" data-meta="10 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Finance</div>
                    <div class="blog-article-title">Cost of Living Adjustment (COLA): 2026 Guide</div>
                    <div class="blog-article-meta">10 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/geographic-pay-differentials-remote-workers-2026.html" class="blog-article-card" data-blog-article data-tag="Remote Work" data-title="Geographic Pay Differentials for Remote Workers" data-meta="9 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Remote Work</div>
                    <div class="blog-article-title">Geographic Pay Differentials for Remote Workers</div>
                    <div class="blog-article-meta">9 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/purchasing-power-parity-explained.html" class="blog-article-card" data-blog-article data-tag="Economics" data-title="Purchasing Power Parity (PPP) Explained" data-meta="11 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Economics</div>
                    <div class="blog-article-title">Purchasing Power Parity (PPP) Explained</div>
                    <div class="blog-article-meta">11 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/affordable-cities-in-europe-for-americans-2026.html" class="blog-article-card" data-blog-article data-tag="Expat Life" data-title="Affordable Cities in Europe for Americans 2026" data-meta="11 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Expat Life</div>
                    <div class="blog-article-title">Affordable Cities in Europe for Americans 2026</div>
                    <div class="blog-article-meta">11 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/tech-salary-comparison-by-city-2026.html" class="blog-article-card" data-blog-article data-tag="Tech" data-title="Tech Salary by City 2026 (Adjusted for Cost of Living)" data-meta="10 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Tech</div>
                    <div class="blog-article-title">Tech Salary by City 2026 (Adjusted for Cost of Living)</div>
                    <div class="blog-article-meta">10 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/dubai-vs-singapore-expat-comparison.html" class="blog-article-card" data-blog-article data-tag="City Guide" data-title="Dubai vs Singapore: Expat Salary &amp; Cost Comparison" data-meta="9 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">City Guide</div>
                    <div class="blog-article-title">Dubai vs Singapore: Expat Salary &amp; Cost Comparison</div>
                    <div class="blog-article-meta">9 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/how-to-retire-abroad-cost-of-living-guide.html" class="blog-article-card" data-blog-article data-tag="Retirement" data-title="How to Retire Abroad on a U.S. Salary" data-meta="12 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Retirement</div>
                    <div class="blog-article-title">How to Retire Abroad on a U.S. Salary</div>
                    <div class="blog-article-meta">12 min read ¬∑ Feb 2026</div>
                </a>
                <a href="/blog/articles/average-salary-by-city-2026-global-comparison.html" class="blog-article-card" data-blog-article data-tag="Data" data-title="Average Salary by City 2026: 100-City Comparison" data-meta="14 min read ¬∑ Feb 2026">
                    <div class="blog-article-tag">Data</div>
                    <div class="blog-article-title">Average Salary by City 2026: 100-City Comparison</div>
                    <div class="blog-article-meta">14 min read ¬∑ Feb 2026</div>
                </a>
            </div>
            <a href="/blog" class="blog-card-cta">View All Articles ‚Üí</a>
        </div>
    </aside>
    </div>

    <footer class="site-footer">
        <div class="site-footer-logo">salary<span>:</span>converter</div>
        <div class="site-footer-text">Compare salaries across 100 cities and over 1,000 neighborhoods worldwide.</div>
        <div class="site-footer-links">
            <a href="https://salary-converter.com">Salary Tool</a>
            <a href="/blog">Blog</a>
        </div>
    </footer>

    <script>
        // 2026 Data - Cost of Living Index (New York = 100)
        const coliData = {
            // North America
            'New York': 100,
            'San Francisco': 97.6,
            'Los Angeles': 76.3,
            'Chicago': 73.2,
            'Miami': 80.1,
            'Austin': 64.8,
            'Seattle': 79.5,
            'Denver': 65.7,
            'Boston': 82.4,
            'Washington DC': 79.8,
            'Houston': 60.2,
            'Toronto': 62.3,
            'Vancouver': 65.4,
            'Montreal': 52.1,
            'Mexico City': 32.5,
            'Canc√∫n': 35.8,
            'Panama City': 42.3,

            // Europe - Western
            'London': 87.5,
            'Paris': 46.9,
            'Amsterdam': 82.6,
            'Berlin': 51.2,
            'Munich': 61.5,
            'Dublin': 72.8,
            'Brussels': 50.3,
            'Luxembourg City': 68.4,
            'Zurich': 122.4,
            'Geneva': 118.6,
            'Edinburgh': 62.1,
            'Nice': 52.7,

            // Europe - Southern
            'Madrid': 38.0,
            'Barcelona': 42.1,
            'Valencia': 33.5,
            'M√°laga': 31.2,
            'Lisbon': 34.7,
            'Porto': 30.1,
            'Rome': 49.3,
            'Milan': 57.8,
            'Athens': 30.6,
            'Split': 31.8,

            // Europe - Northern
            'Stockholm': 64.3,
            'Copenhagen': 85.7,
            'Helsinki': 58.2,
            'Oslo': 78.5,
            'Vienna': 48.2,

            // Europe - Eastern
            'Prague': 30.6,
            'Budapest': 26.1,
            'Warsaw': 28.4,
            'Krakow': 23.8,
            'Bucharest': 22.5,
            'Tallinn': 28.9,
            'Riga': 25.3,
            'Istanbul': 23.1,

            // Asia - East
            'Tokyo': 77.3,
            'Osaka': 62.8,
            'Fukuoka': 51.4,
            'Seoul': 68.9,
            'Hong Kong': 73.6,
            'Taipei': 44.8,
            'Shanghai': 46.2,
            'Beijing': 43.5,
            'Shenzhen': 41.9,
            'Guangzhou': 38.7,

            // Asia - Southeast
            'Singapore': 87.7,
            'Bangkok': 37.2,
            'Chiang Mai': 22.6,
            'Phuket': 30.5,
            'Kuala Lumpur': 32.8,
            'Ho Chi Minh City': 26.4,
            'Hanoi': 24.1,
            'Manila': 26.8,
            'Jakarta': 24.5,
            'Bali (Denpasar)': 25.3,
            'Phnom Penh': 24.8,

            // Asia - South
            'Mumbai': 22.3,
            'Bangalore': 20.8,
            'Delhi': 19.5,
            'Chennai': 18.9,

            // Oceania
            'Sydney': 74.5,
            'Melbourne': 68.2,
            'Perth': 63.5,
            'Auckland': 60.8,

            // Middle East
            'Dubai': 72.4,
            'Abu Dhabi': 67.8,
            'Doha': 69.5,
            'Riyadh': 42.6,
            'Tel Aviv': 81.3,

            // Africa
            'Cape Town': 28.4,
            'Nairobi': 24.7,
            'Lagos': 27.3,
            'Cairo': 16.8,
            'Marrakech': 19.2,
            'Casablanca': 22.1,

            // South America
            'S√£o Paulo': 41.8,
            'Buenos Aires': 25.6,
            'Bogot√°': 22.9,
            'Lima': 25.8,
            'Santiago': 33.2,
            'Medell√≠n': 20.4,
            'Montevideo': 32.5,
            'San Jos√© (CR)': 31.2,
            'Playa del Carmen': 30.8
        };

        // 2026 Exchange Rates (vs GBP)
        const exchangeRates = {
            'GBP': 1.0,
            'USD': 1.328,
            'EUR': 1.126,
            'SGD': 1.73,
            'JPY': 205.72,
            'AED': 4.811,
            'THB': 41.157,
            'AUD': 1.887,
            'CAD': 1.798,
            'CHF': 1.076,
            'CNY': 8.94,
            'HKD': 10.4,
            'INR': 110.5,
            'MYR': 5.4,
            'NZD': 2.14,
            'SEK': 12.09,
            'NOK': 13.34,
            'DKK': 8.43,
            'CZK': 30.6,
            'HUF': 477,
            'PLN': 5.2,
            'TRY': 42.5,
            'BRL': 6.7,
            'MXN': 22.5,
            'ZAR': 24.2,
            'KRW': 1686,
            'TWD': 42.0,
            'IDR': 20500,
            'VND': 33200,
            'PHP': 74.5,
            'ILS': 4.78,
            'EGP': 64.8,
            'KES': 171.5,
            'NGN': 2100,
            'MAD': 12.9,
            'ARS': 1480,
            'COP': 5520,
            'PEN': 4.92,
            'CLP': 1245,
            'UYU': 55.8,
            'CRC': 672,
            'QAR': 4.84,
            'SAR': 4.98,
            'PAB': 1.328,
            'RON': 5.62
        };

        // City to default currency mapping
        const cityToCurrency = {
            // North America
            'New York': 'USD', 'San Francisco': 'USD', 'Los Angeles': 'USD',
            'Chicago': 'USD', 'Miami': 'USD', 'Austin': 'USD', 'Seattle': 'USD',
            'Denver': 'USD', 'Boston': 'USD', 'Washington DC': 'USD', 'Houston': 'USD',
            'Toronto': 'CAD', 'Vancouver': 'CAD', 'Montreal': 'CAD',
            'Mexico City': 'MXN', 'Canc√∫n': 'MXN', 'Panama City': 'USD',
            // Europe - Western
            'London': 'GBP', 'Edinburgh': 'GBP',
            'Paris': 'EUR', 'Amsterdam': 'EUR', 'Berlin': 'EUR', 'Munich': 'EUR',
            'Dublin': 'EUR', 'Brussels': 'EUR', 'Luxembourg City': 'EUR', 'Nice': 'EUR',
            'Zurich': 'CHF', 'Geneva': 'CHF',
            // Europe - Southern
            'Madrid': 'EUR', 'Barcelona': 'EUR', 'Valencia': 'EUR', 'M√°laga': 'EUR',
            'Lisbon': 'EUR', 'Porto': 'EUR', 'Rome': 'EUR', 'Milan': 'EUR',
            'Athens': 'EUR', 'Split': 'EUR',
            // Europe - Northern
            'Stockholm': 'SEK', 'Copenhagen': 'DKK', 'Helsinki': 'EUR',
            'Oslo': 'NOK', 'Vienna': 'EUR',
            // Europe - Eastern
            'Prague': 'CZK', 'Budapest': 'HUF', 'Warsaw': 'PLN', 'Krakow': 'PLN',
            'Bucharest': 'RON', 'Tallinn': 'EUR', 'Riga': 'EUR', 'Istanbul': 'TRY',
            // Asia - East
            'Tokyo': 'JPY', 'Osaka': 'JPY', 'Fukuoka': 'JPY',
            'Seoul': 'KRW', 'Hong Kong': 'HKD', 'Taipei': 'TWD',
            'Shanghai': 'CNY', 'Beijing': 'CNY', 'Shenzhen': 'CNY', 'Guangzhou': 'CNY',
            // Asia - Southeast
            'Singapore': 'SGD',
            'Bangkok': 'THB', 'Chiang Mai': 'THB', 'Phuket': 'THB',
            'Kuala Lumpur': 'MYR',
            'Ho Chi Minh City': 'VND', 'Hanoi': 'VND',
            'Manila': 'PHP', 'Jakarta': 'IDR', 'Bali (Denpasar)': 'IDR',
            'Phnom Penh': 'USD',
            // Asia - South
            'Mumbai': 'INR', 'Bangalore': 'INR', 'Delhi': 'INR', 'Chennai': 'INR',
            // Oceania
            'Sydney': 'AUD', 'Melbourne': 'AUD', 'Perth': 'AUD', 'Auckland': 'NZD',
            // Middle East
            'Dubai': 'AED', 'Abu Dhabi': 'AED', 'Doha': 'QAR',
            'Riyadh': 'SAR', 'Tel Aviv': 'ILS',
            // Africa
            'Cape Town': 'ZAR', 'Nairobi': 'KES', 'Lagos': 'NGN',
            'Cairo': 'EGP', 'Marrakech': 'MAD', 'Casablanca': 'MAD',
            // South America
            'S√£o Paulo': 'BRL', 'Buenos Aires': 'ARS',
            'Bogot√°': 'COP', 'Medell√≠n': 'COP',
            'Lima': 'PEN', 'Santiago': 'CLP', 'Montevideo': 'UYU',
            'San Jos√© (CR)': 'CRC', 'Playa del Carmen': 'MXN'
        };

        // Neighborhood data: multipliers relative to city COLI (1.0 = city average)
        const cityNeighborhoods = {
            // ===== NORTH AMERICA =====
            'New York': {
                'Manhattan (Midtown)': 1.25, 'Manhattan (Upper East Side)': 1.30, 'Manhattan (Lower East Side)': 1.10,
                'Brooklyn (Williamsburg)': 1.05, 'Brooklyn (Park Slope)': 1.08, 'Brooklyn (Bushwick)': 0.88,
                'Queens (Astoria)': 0.90, 'Queens (Long Island City)': 0.95, 'Harlem': 0.82,
                'The Bronx': 0.72, 'Staten Island': 0.75, 'SoHo / Tribeca': 1.35
            },
            'San Francisco': {
                'Financial District': 1.20, 'SoMa': 1.15, 'Mission District': 1.05,
                'Castro': 1.08, 'Sunset District': 0.92, 'Richmond District': 0.90,
                'Nob Hill': 1.18, 'Pacific Heights': 1.25, 'Tenderloin': 0.78,
                'Oakland (Downtown)': 0.80, 'Oakland (Rockridge)': 0.88, 'Berkeley': 0.90
            },
            'Los Angeles': {
                'Santa Monica': 1.25, 'Beverly Hills': 1.40, 'Hollywood': 1.10,
                'Downtown LA': 1.05, 'Silver Lake': 1.08, 'Venice': 1.20,
                'Koreatown': 0.85, 'Echo Park': 0.90, 'Pasadena': 0.92,
                'Long Beach': 0.80, 'Culver City': 1.02, 'Burbank': 0.88
            },
            'Chicago': {
                'The Loop': 1.20, 'Lincoln Park': 1.15, 'Wicker Park': 1.08,
                'River North': 1.22, 'Gold Coast': 1.25, 'Lakeview': 1.05,
                'Logan Square': 0.92, 'Pilsen': 0.82, 'Hyde Park': 0.85,
                'Bridgeport': 0.78, 'Evanston': 0.95, 'Oak Park': 0.90
            },
            'Miami': {
                'South Beach': 1.30, 'Brickell': 1.25, 'Wynwood': 1.10,
                'Coconut Grove': 1.15, 'Coral Gables': 1.20, 'Downtown Miami': 1.08,
                'Little Havana': 0.78, 'North Miami': 0.82, 'Hialeah': 0.72,
                'Miami Beach': 1.22, 'Doral': 0.88, 'Kendall': 0.80
            },
            'Austin': {
                'Downtown': 1.25, 'South Congress (SoCo)': 1.18, 'East Austin': 1.05,
                'West Lake Hills': 1.30, 'Hyde Park': 1.08, 'Mueller': 1.02,
                'North Loop': 0.95, 'Round Rock': 0.80, 'Cedar Park': 0.78,
                'Pflugerville': 0.75, 'South Lamar': 1.10
            },
            'Seattle': {
                'Capitol Hill': 1.12, 'Downtown': 1.18, 'Queen Anne': 1.10,
                'Ballard': 1.05, 'Fremont': 1.08, 'University District': 0.88,
                'Beacon Hill': 0.85, 'West Seattle': 0.92, 'Columbia City': 0.90,
                'Bellevue': 1.15, 'Redmond': 1.05, 'Kirkland': 1.02
            },
            'Denver': {
                'LoDo (Lower Downtown)': 1.22, 'Cherry Creek': 1.28, 'Capitol Hill': 1.10,
                'RiNo (River North)': 1.15, 'Highlands': 1.12, 'Washington Park': 1.08,
                'Baker': 1.02, 'Park Hill': 0.90, 'Montbello': 0.72,
                'Aurora': 0.78, 'Lakewood': 0.85, 'Englewood': 0.82
            },
            'Boston': {
                'Back Bay': 1.30, 'Beacon Hill': 1.28, 'South End': 1.18,
                'North End': 1.12, 'Seaport': 1.25, 'Cambridge (Harvard Sq)': 1.15,
                'Cambridge (Kendall Sq)': 1.20, 'Somerville': 0.95, 'Jamaica Plain': 0.90,
                'Dorchester': 0.78, 'Allston/Brighton': 0.85, 'Brookline': 1.10
            },
            'Washington DC': {
                'Georgetown': 1.30, 'Dupont Circle': 1.20, 'Capitol Hill': 1.15,
                'Adams Morgan': 1.05, 'Logan Circle': 1.18, 'Navy Yard': 1.10,
                'Columbia Heights': 0.92, 'Foggy Bottom': 1.22, 'U Street': 1.08,
                'Anacostia': 0.72, 'Arlington (VA)': 1.05, 'Bethesda (MD)': 1.12
            },
            'Houston': {
                'River Oaks': 1.35, 'The Heights': 1.15, 'Montrose': 1.12,
                'Downtown': 1.18, 'Midtown': 1.10, 'Museum District': 1.08,
                'Upper Kirby': 1.05, 'EaDo': 0.95, 'Katy': 0.82,
                'Sugar Land': 0.85, 'Spring': 0.78, 'Pearland': 0.80
            },
            'Toronto': {
                'Yorkville': 1.30, 'King West': 1.22, 'Liberty Village': 1.10,
                'Queen West': 1.08, 'The Annex': 1.12, 'Leslieville': 0.95,
                'Kensington Market': 0.92, 'Etobicoke': 0.80, 'Scarborough': 0.75,
                'North York': 0.85, 'Downtown Core': 1.18, 'Danforth': 0.90
            },
            'Vancouver': {
                'Yaletown': 1.25, 'Kitsilano': 1.15, 'Gastown': 1.12,
                'West End': 1.10, 'Commercial Drive': 0.95, 'Mount Pleasant': 1.05,
                'East Van': 0.88, 'Burnaby': 0.82, 'Richmond': 0.85,
                'North Vancouver': 0.92, 'West Vancouver': 1.30, 'Surrey': 0.72
            },
            'Montreal': {
                'Plateau Mont-Royal': 1.18, 'Old Montreal': 1.22, 'Griffintown': 1.15,
                'Mile End': 1.08, 'Outremont': 1.20, 'Westmount': 1.30,
                'Villeray': 0.92, 'Rosemont': 0.95, 'Verdun': 0.88,
                'NDG (Notre-Dame-de-Gr√¢ce)': 0.90, 'Hochelaga': 0.78, 'Laval': 0.75
            },
            'Mexico City': {
                'Polanco': 1.35, 'Condesa': 1.22, 'Roma Norte': 1.18,
                'Santa Fe': 1.15, 'Coyoac√°n': 1.02, 'Del Valle': 0.95,
                'Narvarte': 0.88, 'Tlalpan': 0.78, 'Iztapalapa': 0.65,
                'Centro Hist√≥rico': 0.90, 'San √Ångel': 1.10
            },
            'Canc√∫n': {
                'Zona Hotelera': 1.35, 'Puerto Canc√∫n': 1.28, 'Centro': 0.85,
                'SM 17 (Downtown)': 0.82, 'Alfredo V. Bonfil': 0.72, 'Playa Mujeres': 1.22,
                'Puerto Ju√°rez': 0.90, 'Isla Mujeres': 1.15
            },
            'Panama City': {
                'Punta Pac√≠fica': 1.30, 'Costa del Este': 1.25, 'Casco Viejo': 1.12,
                'Obarrio': 1.10, 'El Cangrejo': 1.02, 'San Francisco': 1.08,
                'Calidonia': 0.78, 'Juan D√≠az': 0.72, 'Clayton': 1.05,
                'Balboa': 0.92
            },

            // ===== EUROPE - WESTERN =====
            'London': {
                'Mayfair': 1.45, 'Chelsea': 1.38, 'Kensington': 1.35,
                'Notting Hill': 1.28, 'Soho': 1.22, 'Shoreditch': 1.10,
                'Camden': 1.05, 'Islington': 1.12, 'Brixton': 0.88,
                'Hackney': 0.92, 'Peckham': 0.82, 'Canary Wharf': 1.15,
                'Greenwich': 0.90, 'Clapham': 0.95, 'Stratford': 0.78,
                'Marylebone': 1.32, 'Hampstead': 1.30
            },
            'Paris': {
                'Le Marais (3rd/4th)': 1.30, 'Saint-Germain (6th)': 1.35, 'Champs-√âlys√©es (8th)': 1.40,
                'Montmartre (18th)': 0.92, 'Bastille (11th)': 1.05, 'Oberkampf (11th)': 1.02,
                'Belleville (20th)': 0.82, 'La D√©fense': 1.10, 'Pigalle (9th)': 0.95,
                'Nation (12th)': 0.88, 'Batignolles (17th)': 0.98, 'Boulogne-Billancourt': 1.08
            },
            'Amsterdam': {
                'Canal Ring (Centrum)': 1.30, 'Jordaan': 1.25, 'De Pijp': 1.10,
                'Oud-West': 1.15, 'Oud-Zuid': 1.28, 'Oost': 0.95,
                'Noord': 0.82, 'Nieuw-West': 0.75, 'Amstelveen': 0.88,
                'Zuidas': 1.20, 'Westerpark': 1.05
            },
            'Berlin': {
                'Mitte': 1.22, 'Prenzlauer Berg': 1.12, 'Kreuzberg': 1.08,
                'Friedrichshain': 1.02, 'Charlottenburg': 1.15, 'Neuk√∂lln': 0.85,
                'Sch√∂neberg': 1.05, 'Wedding': 0.78, 'Tempelhof': 0.82,
                'Spandau': 0.72, 'Steglitz': 0.88, 'Grunewald': 1.30
            },
            'Munich': {
                'Altstadt-Lehel': 1.35, 'Maxvorstadt': 1.18, 'Schwabing': 1.22,
                'Bogenhausen': 1.15, 'Haidhausen': 1.10, 'Glockenbachviertel': 1.20,
                'Sendling': 0.92, 'Moosach': 0.82, 'Pasing': 0.85,
                'Neuhausen': 1.05, 'Berg am Laim': 0.88
            },
            'Dublin': {
                'Dublin 2 (City Centre)': 1.25, 'Dublin 4 (Ballsbridge)': 1.30,
                'Dublin 6 (Ranelagh)': 1.15, 'Dublin 8 (Portobello)': 1.08,
                'D√∫n Laoghaire': 1.10, 'Rathmines': 1.05, 'Drumcondra': 0.92,
                'Tallaght': 0.75, 'Clontarf': 1.02, 'Howth': 1.12
            },
            'Brussels': {
                'Ixelles': 1.18, 'Saint-Gilles': 1.05, 'Uccle': 1.22,
                'Sablon': 1.28, 'Etterbeek': 1.02, 'Schaerbeek': 0.85,
                'Molenbeek': 0.72, 'Woluwe-Saint-Pierre': 1.12, 'Forest': 0.88,
                'EU Quarter': 1.15, 'Auderghem': 0.95
            },
            'Luxembourg City': {
                'Ville Haute': 1.30, 'Kirchberg': 1.22, 'Belair': 1.18,
                'Limpertsberg': 1.15, 'Grund': 1.08, 'Bonnevoie': 0.88,
                'Gasperich': 1.05, 'Eich': 0.92, 'Hollerich': 0.85,
                'Cessange': 0.90
            },
            'Zurich': {
                'Bahnhofstrasse': 1.35, 'Seefeld': 1.25, 'Enge': 1.18,
                'Niederdorf': 1.15, 'Wiedikon': 1.02, 'Oerlikon': 0.88,
                'Altstetten': 0.82, 'Hottingen': 1.12, 'Wipkingen': 0.95,
                'Schwamendingen': 0.78
            },
            'Geneva': {
                'Eaux-Vives': 1.20, 'Champel': 1.25, 'Carouge': 1.05,
                'Plainpalais': 1.10, 'P√¢quis': 0.92, 'Nations': 1.15,
                'Servette': 0.88, 'Meyrin': 0.78, 'Vernier': 0.75,
                'Cologny': 1.35
            },
            'Edinburgh': {
                'New Town': 1.25, 'Old Town': 1.18, 'Stockbridge': 1.15,
                'Morningside': 1.10, 'Marchmont': 1.02, 'Leith': 0.90,
                'Portobello': 0.88, 'Bruntsfield': 1.08, 'Gorgie': 0.78,
                'Corstorphine': 0.82
            },
            'Nice': {
                'Promenade des Anglais': 1.30, 'Old Nice (Vieux Nice)': 1.18, 'Cimiez': 1.15,
                'Port': 1.05, 'Lib√©ration': 0.90, 'Riquier': 0.85,
                'Saint-Roch': 0.82, "L'Ariane": 0.70, 'Fabron': 0.95,
                'Mont Boron': 1.22
            },

            // ===== EUROPE - SOUTHERN =====
            'Madrid': {
                'Salamanca': 1.30, 'Chamber√≠': 1.18, 'Malasa√±a': 1.10,
                'Chueca': 1.12, 'La Latina': 1.05, 'Lavapi√©s': 0.90,
                'Retiro': 1.15, 'Chamart√≠n': 1.08, 'Vallecas': 0.72,
                'Tetu√°n': 0.82, 'Moncloa': 1.02
            },
            'Barcelona': {
                'Eixample': 1.15, 'Gr√†cia': 1.08, 'Born / El Born': 1.20,
                'Gothic Quarter': 1.18, 'Barceloneta': 1.10, 'Poblenou': 1.02,
                'Raval': 0.88, 'Sants': 0.85, 'Sant Andreu': 0.78,
                'Sarri√†-Sant Gervasi': 1.25, 'Horta-Guinard√≥': 0.80
            },
            'Valencia': {
                'El Carmen': 1.18, 'Ruzafa': 1.15, 'Eixample': 1.10,
                'Ciutat Vella': 1.12, 'El Cabanyal': 0.92, 'Benimaclet': 0.88,
                'Patraix': 0.82, 'Poblats Mar√≠tims': 0.85, 'Campanar': 0.90,
                'Quatre Carreres': 0.78
            },
            'M√°laga': {
                'Centro Hist√≥rico': 1.22, 'Soho': 1.15, 'Pedregalejo': 1.10,
                'El Palo': 0.92, 'Huelin': 0.88, 'Teatinos': 0.85,
                'La Malagueta': 1.18, 'Puerto de la Torre': 0.75,
                'Churriana': 0.78, 'El Limonar': 1.12
            },
            'Lisbon': {
                'Chiado': 1.28, 'Pr√≠ncipe Real': 1.25, 'Alfama': 1.10,
                'Bairro Alto': 1.15, 'Estrela / Lapa': 1.12, 'Avenidas Novas': 1.05,
                'Alc√¢ntara': 0.95, 'Benfica': 0.82, 'Amadora': 0.72,
                'Parque das Na√ß√µes': 1.08, 'Campo de Ourique': 1.02
            },
            'Porto': {
                'Ribeira': 1.22, 'Foz do Douro': 1.25, 'Cedofeita': 1.10,
                'Boavista': 1.15, 'Bonfim': 0.95, 'Campanh√£': 0.78,
                'Paranhos': 0.85, 'Ramalde': 0.82, 'Matosinhos': 0.90,
                'Vila Nova de Gaia': 0.88
            },
            'Rome': {
                'Centro Storico': 1.30, 'Trastevere': 1.15, 'Prati': 1.18,
                'Testaccio': 1.05, 'Monti': 1.20, 'San Giovanni': 0.92,
                'EUR': 0.88, 'Pigneto': 0.85, 'Ostiense': 0.90,
                'Garbatella': 0.82, 'Flaminio': 1.08
            },
            'Milan': {
                'Brera': 1.30, 'Navigli': 1.15, 'Porta Nuova': 1.25,
                'City Centre': 1.35, 'Isola': 1.10, 'Citt√† Studi': 0.90,
                'Lambrate': 0.85, 'Bovisa': 0.78, 'San Siro': 0.88,
                'Porta Venezia': 1.12
            },
            'Athens': {
                'Kolonaki': 1.30, 'Plaka': 1.18, 'Kifissia': 1.22,
                'Glyfada': 1.15, 'Pangrati': 1.02, 'Exarchia': 0.85,
                'Koukaki': 1.05, 'Nea Smyrni': 0.90, 'Piraeus': 0.78,
                'Marousi': 0.95, 'Psyrri': 1.08
            },
            'Split': {
                'Diocletian\'s Palace': 1.25, 'Baƒçvice': 1.15, 'Manu≈°': 1.05,
                '≈Ωnjan': 1.10, 'Firule': 1.02, 'Spinut': 0.90,
                'Suƒáidar': 0.82, 'Trstenik': 0.88, 'Mertojak': 0.92
            },

            // ===== EUROPE - NORTHERN =====
            'Stockholm': {
                '√ñstermalm': 1.32, 'S√∂dermalm': 1.15, 'Kungsholmen': 1.10,
                'Vasastan': 1.12, 'Gamla Stan': 1.20, 'Djurg√•rden': 1.18,
                'Hammarby Sj√∂stad': 1.05, 'H√§gersten': 0.88, 'Farsta': 0.75,
                'Solna': 0.90, 'Nacka': 0.92, 'Liding√∂': 1.08
            },
            'Copenhagen': {
                'Indre By (City Centre)': 1.28, 'Frederiksberg': 1.18, 'N√∏rrebro': 1.02,
                'Vesterbro': 1.10, '√òsterbro': 1.15, 'Christianshavn': 1.12,
                'Amager': 0.90, 'Valby': 0.85, 'Br√∏nsh√∏j': 0.80,
                'Hellerup': 1.22, 'Nordvest': 0.78
            },
            'Helsinki': {
                'Kruununhaka': 1.25, 'Eira': 1.22, 'Punavuori': 1.15,
                'Kallio': 1.05, 'T√∂√∂l√∂': 1.12, 'Ullanlinna': 1.18,
                'Vallila': 0.95, 'S√∂rn√§inen': 0.88, 'Vuosaari': 0.75,
                'Espoo (Tapiola)': 0.92, 'Kontula': 0.72
            },
            'Oslo': {
                'Frogner': 1.30, 'Majorstuen': 1.18, 'Gr√ºnerl√∏kka': 1.12,
                'Aker Brygge': 1.25, 'Sentrum': 1.15, 'St. Hanshaugen': 1.08,
                'T√∏yen': 0.88, 'Sagene': 1.02, 'Gr√∏nland': 0.82,
                'Stovner': 0.72, 'B√¶rum': 1.10
            },
            'Vienna': {
                'Innere Stadt (1st)': 1.35, 'Josefstadt (8th)': 1.15, 'Neubau (7th)': 1.12,
                'Wieden (4th)': 1.18, 'Mariahilf (6th)': 1.08, 'Landstra√üe (3rd)': 1.05,
                'Leopoldstadt (2nd)': 0.95, 'Favoriten (10th)': 0.75, 'Ottakring (16th)': 0.82,
                'D√∂bling (19th)': 1.20, 'Hietzing (13th)': 1.10
            },

            // ===== EUROPE - EASTERN =====
            'Prague': {
                'Prague 1 (Old Town)': 1.30, 'Prague 2 (Vinohrady)': 1.18, 'Prague 3 (≈Ωi≈ækov)': 0.95,
                'Prague 5 (Sm√≠chov)': 1.05, 'Prague 6 (Dejvice)': 1.12, 'Prague 7 (Hole≈°ovice)': 1.08,
                'Prague 4 (Nusle)': 0.88, 'Prague 8 (Karl√≠n)': 1.02, 'Prague 9': 0.78,
                'Prague 10': 0.82
            },
            'Budapest': {
                'District V (Belv√°ros)': 1.30, 'District VI (Ter√©zv√°ros)': 1.15, 'District VII (Jewish Quarter)': 1.12,
                'District I (Buda Castle)': 1.22, 'District II (Buda Hills)': 1.18, 'District IX (Ferencv√°ros)': 1.02,
                'District XIII': 1.05, 'District XI (√öjbuda)': 0.92, 'District VIII (J√≥zsefv√°ros)': 0.82,
                'District XIV (Zugl√≥)': 0.85, 'District III (√ìbuda)': 0.88
            },
            'Warsaw': {
                '≈ör√≥dmie≈õcie (Centre)': 1.25, 'Mokot√≥w': 1.12, '≈ªoliborz': 1.15,
                'Wilan√≥w': 1.18, 'Wola': 1.05, 'Praga P√≥≈Çnoc': 0.88,
                'Ursyn√≥w': 0.85, 'Ochota': 0.95, 'Bielany': 0.82,
                'Bemowo': 0.78, 'Targ√≥wek': 0.72
            },
            'Krakow': {
                'Old Town (Stare Miasto)': 1.28, 'Kazimierz': 1.18, 'Podg√≥rze': 1.05,
                'Krowodrza': 0.95, 'Dƒôbniki': 0.90, 'Zab≈Çocie': 1.08,
                'Nowa Huta': 0.72, 'PrƒÖdnik Bia≈Çy': 0.82, 'Bronowice': 0.85,
                'Ruczaj': 0.88
            },
            'Bucharest': {
                'Doroban»õi': 1.28, 'PrimƒÉverii': 1.25, 'Floreasca': 1.18,
                'HerƒÉstrƒÉu': 1.22, 'Cotroceni': 1.10, 'Aviatorilor': 1.15,
                'Pipera': 1.02, 'Militari': 0.75, 'Rahova': 0.70,
                'Tineretului': 0.88, 'Berceni': 0.78
            },
            'Tallinn': {
                'Old Town (Vanalinn)': 1.28, 'Kalamaja': 1.15, 'Kadriorg': 1.18,
                'Pirita': 1.10, 'Telliskivi': 1.12, 'Rotermanni': 1.08,
                'Kristiine': 0.92, 'Mustam√§e': 0.82, 'Lasnam√§e': 0.72,
                'N√µmme': 0.88
            },
            'Riga': {
                'Old Riga (Vecrƒ´ga)': 1.25, 'Quiet Centre': 1.18, 'ƒÄgenskalns': 1.05,
                'Me≈æaparks': 1.10, 'Grƒ´zi≈Ükalns': 0.92, 'Teika': 0.95,
                'Purvciems': 0.78, 'Imanta': 0.75, 'Ziepniekkalns': 0.72,
                'Tor≈Üakalns': 0.88
            },
            'Istanbul': {
                'Be≈üikta≈ü': 1.28, 'Ni≈üanta≈üƒ±': 1.35, 'Kadƒ±k√∂y': 1.15,
                'Bebek': 1.30, 'Cihangir': 1.18, 'Karak√∂y': 1.12,
                '≈ûi≈üli': 1.05, '√úsk√ºdar': 0.92, 'Bakƒ±rk√∂y': 0.88,
                'Fatih': 0.82, 'Beyoƒülu': 1.08, 'Esenyurt': 0.65
            },

            // ===== ASIA - EAST =====
            'Tokyo': {
                'Minato (Roppongi)': 1.30, 'Shibuya': 1.25, 'Shinjuku': 1.18,
                'Chiyoda (Marunouchi)': 1.35, 'Meguro': 1.15, 'Setagaya': 1.08,
                'Nakano': 0.92, 'Suginami': 0.88, 'Koto (Toyosu)': 1.05,
                'Adachi': 0.75, 'Edogawa': 0.78, 'Bunkyo': 1.10
            },
            'Osaka': {
                'Kita (Umeda)': 1.22, 'Chuo (Namba)': 1.18, 'Tennoji': 1.08,
                'Fukushima': 1.10, 'Nishi': 1.05, 'Shinmachi': 1.02,
                'Sumiyoshi': 0.88, 'Higashiyodogawa': 0.82, 'Ikuno': 0.78,
                'Sakai': 0.75
            },
            'Fukuoka': {
                'Tenjin': 1.20, 'Hakata': 1.15, 'Daimyo': 1.12,
                'Yakuin': 1.08, 'Ohori': 1.10, 'Nishijin': 0.92,
                'Hakozaki': 0.85, 'Kashii': 0.80, 'Noke': 0.78,
                'Momochi': 1.05
            },
            'Seoul': {
                'Gangnam': 1.30, 'Itaewon': 1.15, 'Myeongdong': 1.20,
                'Hongdae': 1.08, 'Bukchon': 1.18, 'Yeouido': 1.12,
                'Sinchon': 0.92, 'Gwangjin': 0.88, 'Nowon': 0.75,
                'Mapo': 1.02
            },
            'Hong Kong': {
                'Central': 1.40, 'The Peak': 1.50, 'Mid-Levels': 1.30,
                'Causeway Bay': 1.25, 'Tsim Sha Tsui': 1.15, 'Wan Chai': 1.18,
                'Mong Kok': 0.92, 'Sham Shui Po': 0.78, 'Tai Po': 0.72,
                'Sai Kung': 0.85, 'Discovery Bay': 1.10
            },
            'Taipei': {
                'Da\'an': 1.25, 'Xinyi': 1.30, 'Zhongshan': 1.12,
                'Songshan': 1.08, 'Zhongzheng': 1.10, 'Shilin': 0.92,
                'Beitou': 0.88, 'Neihu': 1.02, 'Wanhua': 0.82,
                'Banqiao (New Taipei)': 0.78
            },
            'Shanghai': {
                'Jing\'an': 1.30, 'Xuhui (French Concession)': 1.28, 'Lujiazui (Pudong)': 1.25,
                'Huangpu (The Bund)': 1.22, 'Changning': 1.10, 'Hongkou': 0.92,
                'Yangpu': 0.88, 'Minhang': 0.82, 'Baoshan': 0.75,
                'Putuo': 0.90
            },
            'Beijing': {
                'Chaoyang (CBD)': 1.28, 'Dongcheng': 1.22, 'Xicheng': 1.18,
                'Haidian (Zhongguancun)': 1.15, 'Shunyi': 1.08, 'Chaoyang (Sanlitun)': 1.25,
                'Fengtai': 0.82, 'Tongzhou': 0.75, 'Daxing': 0.72,
                'Changping': 0.78
            },
            'Shenzhen': {
                'Nanshan (Shekou)': 1.25, 'Futian (CBD)': 1.22, 'Luohu': 1.05,
                'Nanshan (Tech Park)': 1.18, 'Bao\'an': 0.82, 'Longhua': 0.78,
                'Longgang': 0.72, 'Yantian': 0.85, 'Guangming': 0.75,
                'Qianhai': 1.12
            },
            'Guangzhou': {
                'Tianhe': 1.22, 'Yuexiu': 1.10, 'Haizhu': 1.02,
                'Liwan': 0.92, 'Panyu': 0.82, 'Baiyun': 0.78,
                'Huangpu': 1.05, 'Nansha': 0.75, 'Zhujiang New Town': 1.18,
                'Huadu': 0.72
            },

            // ===== ASIA - SOUTHEAST =====
            'Singapore': {
                'Orchard Road': 1.30, 'Marina Bay': 1.35, 'Raffles Place': 1.25,
                'Holland Village': 1.12, 'Tiong Bahru': 1.10, 'Tanjong Pagar': 1.15,
                'Bukit Timah': 1.18, 'Clementi': 0.88, 'Woodlands': 0.75,
                'Tampines': 0.78, 'Jurong East': 0.80, 'Sentosa': 1.40
            },
            'Bangkok': {
                'Sukhumvit (Asoke)': 1.25, 'Silom / Sathorn': 1.22, 'Siam': 1.18,
                'Thonglor': 1.28, 'Ekkamai': 1.15, 'Ari': 1.10,
                'Khao San': 0.85, 'On Nut': 0.88, 'Phra Khanong': 0.92,
                'Bang Na': 0.78, 'Chatuchak': 0.90, 'Ladprao': 0.82
            },
            'Chiang Mai': {
                'Old City': 1.15, 'Nimmanhaemin': 1.22, 'Santitham': 1.05,
                'Chang Khlan (Night Bazaar)': 1.08, 'Hang Dong': 0.82, 'San Sai': 0.78,
                'Mae Rim': 0.85, 'Suthep': 1.02, 'Wualai': 0.92,
                'San Kamphaeng': 0.75
            },
            'Phuket': {
                'Patong': 1.22, 'Kata': 1.12, 'Karon': 1.08,
                'Kamala': 1.15, 'Surin': 1.20, 'Bang Tao': 1.18,
                'Phuket Town': 0.85, 'Rawai': 0.92, 'Chalong': 0.88,
                'Cherng Talay': 1.05
            },
            'Kuala Lumpur': {
                'KLCC': 1.30, 'Bukit Bintang': 1.22, 'Bangsar': 1.18,
                'Mont Kiara': 1.15, 'Damansara Heights': 1.20, 'Sri Hartamas': 1.08,
                'Petaling Jaya': 0.90, 'Cheras': 0.78, 'Sentul': 0.82,
                'Kepong': 0.75, 'Desa ParkCity': 1.10
            },
            'Ho Chi Minh City': {
                'District 1': 1.30, 'District 2 (Thao Dien)': 1.22, 'District 3': 1.15,
                'District 7 (Phu My Hung)': 1.12, 'Binh Thanh': 1.02, 'District 4': 0.90,
                'Go Vap': 0.82, 'Tan Binh': 0.85, 'Thu Duc': 0.88,
                'Binh Tan': 0.72
            },
            'Hanoi': {
                'Hoan Kiem (Old Quarter)': 1.25, 'Ba Dinh': 1.18, 'Tay Ho (West Lake)': 1.22,
                'Hai Ba Trung': 1.08, 'Dong Da': 1.02, 'Cau Giay': 1.05,
                'Thanh Xuan': 0.88, 'Ha Dong': 0.78, 'Long Bien': 0.82,
                'Hoang Mai': 0.85
            },
            'Manila': {
                'Makati (CBD)': 1.28, 'BGC (Taguig)': 1.25, 'Rockwell': 1.22,
                'Alabang': 1.10, 'Ortigas': 1.08, 'Eastwood (Quezon City)': 1.02,
                'Pasig': 0.92, 'Mandaluyong': 0.95, 'Quezon City (Cubao)': 0.82,
                'Manila (Ermita)': 0.78, 'Las Pi√±as': 0.75
            },
            'Jakarta': {
                'Menteng': 1.30, 'Sudirman (SCBD)': 1.25, 'Kemang': 1.18,
                'Kuningan': 1.15, 'Senopati': 1.20, 'Pondok Indah': 1.12,
                'Kelapa Gading': 1.02, 'Pluit': 0.90, 'Cempaka Putih': 0.82,
                'Bekasi': 0.72, 'Tangerang': 0.75
            },
            'Bali (Denpasar)': {
                'Seminyak': 1.28, 'Canggu': 1.22, 'Ubud': 1.10,
                'Sanur': 1.05, 'Kuta': 0.92, 'Nusa Dua': 1.18,
                'Jimbaran': 1.12, 'Denpasar Centre': 0.82, 'Uluwatu': 1.15,
                'Legian': 0.88
            },
            'Phnom Penh': {
                'BKK1': 1.30, 'BKK2': 1.10, 'Tonle Bassac': 1.22,
                'Daun Penh (Riverside)': 1.15, 'Toul Tom Poung (Russian Market)': 1.05,
                'Chroy Changvar': 0.90, 'Toul Kork': 0.95, 'Sen Sok': 0.78,
                'Meanchey': 0.72, 'Chamkarmon': 1.02
            },

            // ===== ASIA - SOUTH =====
            'Mumbai': {
                'South Mumbai (Colaba)': 1.35, 'Bandra West': 1.28, 'Juhu': 1.22,
                'Worli': 1.25, 'Lower Parel': 1.18, 'Andheri West': 1.05,
                'Powai': 1.08, 'Dadar': 0.95, 'Andheri East': 0.88,
                'Borivali': 0.78, 'Thane': 0.72, 'Navi Mumbai': 0.75
            },
            'Bangalore': {
                'Indiranagar': 1.25, 'Koramangala': 1.22, 'Whitefield': 1.08,
                'MG Road': 1.18, 'HSR Layout': 1.05, 'Jayanagar': 1.02,
                'Electronic City': 0.85, 'Marathahalli': 0.92, 'Yelahanka': 0.78,
                'Bannerghatta Road': 0.88, 'Hebbal': 0.95
            },
            'Delhi': {
                'South Delhi (GK)': 1.30, 'Lutyens Delhi': 1.40, 'Hauz Khas': 1.18,
                'Defence Colony': 1.22, 'Vasant Kunj': 1.08, 'Dwarka': 0.85,
                'Rohini': 0.78, 'Gurugram (DLF)': 1.12, 'Noida (Sector 18)': 0.82,
                'Saket': 1.05, 'Karol Bagh': 0.88
            },
            'Chennai': {
                'Adyar': 1.18, 'Nungambakkam': 1.22, 'T. Nagar': 1.10,
                'Anna Nagar': 1.05, 'Mylapore': 1.08, 'OMR (Sholinganallur)': 0.92,
                'Velachery': 0.88, 'Tambaram': 0.75, 'Porur': 0.82,
                'Besant Nagar': 1.15
            },

            // ===== OCEANIA =====
            'Sydney': {
                'CBD': 1.25, 'Bondi': 1.22, 'Surry Hills': 1.15,
                'Darlinghurst': 1.12, 'Newtown': 1.05, 'Manly': 1.10,
                'Parramatta': 0.82, 'Bankstown': 0.72, 'Chatswood': 0.95,
                'Pyrmont': 1.18, 'Mosman': 1.28, 'Marrickville': 0.90
            },
            'Melbourne': {
                'CBD': 1.20, 'South Yarra': 1.22, 'Fitzroy': 1.10,
                'Carlton': 1.05, 'St Kilda': 1.08, 'Collingwood': 1.02,
                'Richmond': 0.98, 'Brunswick': 0.92, 'Footscray': 0.78,
                'Docklands': 1.12, 'Toorak': 1.30, 'Prahran': 1.08
            },
            'Perth': {
                'CBD': 1.18, 'Subiaco': 1.15, 'Cottesloe': 1.22,
                'Claremont': 1.12, 'Fremantle': 1.05, 'Leederville': 1.08,
                'Mount Lawley': 1.02, 'Northbridge': 0.95, 'Scarborough': 0.90,
                'Rockingham': 0.78, 'Joondalup': 0.82, 'Nedlands': 1.10
            },
            'Auckland': {
                'Ponsonby': 1.25, 'Parnell': 1.22, 'Herne Bay': 1.30,
                'Grey Lynn': 1.15, 'CBD': 1.12, 'Newmarket': 1.08,
                'Mt Eden': 1.05, 'Kingsland': 1.02, 'Devonport': 1.10,
                'Henderson': 0.78, 'Manukau': 0.72, 'Takapuna': 0.95
            },

            // ===== MIDDLE EAST =====
            'Dubai': {
                'Downtown Dubai': 1.35, 'Dubai Marina': 1.28, 'Palm Jumeirah': 1.40,
                'JBR': 1.22, 'Business Bay': 1.18, 'DIFC': 1.30,
                'JLT': 1.05, 'Deira': 0.78, 'Al Barsha': 0.88,
                'Jumeirah': 1.15, 'Silicon Oasis': 0.72, 'Sports City': 0.80
            },
            'Abu Dhabi': {
                'Al Reem Island': 1.22, 'Saadiyat Island': 1.30, 'Corniche': 1.25,
                'Al Raha Beach': 1.15, 'Yas Island': 1.12, 'Khalifa City': 0.88,
                'Mussafah': 0.72, 'Al Khalidiya': 1.08, 'Tourist Club Area': 0.92,
                'Al Ain': 0.78
            },
            'Doha': {
                'The Pearl': 1.35, 'West Bay': 1.28, 'Katara': 1.22,
                'Al Sadd': 1.05, 'Souq Waqif': 1.10, 'Lusail': 1.18,
                'Al Rayyan': 0.85, 'Al Wakrah': 0.78, 'Al Gharrafa': 0.82,
                'Industrial Area': 0.65
            },
            'Riyadh': {
                'Al Olaya': 1.28, 'King Abdullah Financial District': 1.30, 'Al Nakheel': 1.18,
                'Diplomatic Quarter': 1.22, 'Al Malqa': 1.12, 'Al Yasmin': 1.05,
                'Al Sulimaniyah': 0.95, 'Al Batha': 0.72, 'Al Khaleej': 0.82,
                'Al Thumama': 0.88
            },
            'Tel Aviv': {
                'Rothschild Blvd': 1.35, 'Neve Tzedek': 1.30, 'Florentin': 1.10,
                'Old North': 1.20, 'Sarona': 1.18, 'Jaffa': 0.95,
                'Ramat Aviv': 1.12, 'Bat Yam': 0.78, 'Holon': 0.75,
                'Givatayim': 0.92
            },

            // ===== AFRICA =====
            'Cape Town': {
                'Camps Bay': 1.35, 'Clifton': 1.40, 'Sea Point': 1.18,
                'City Bowl': 1.15, 'Green Point': 1.12, 'Woodstock': 0.92,
                'Observatory': 0.88, 'Rondebosch': 0.95, 'Claremont': 1.02,
                'Khayelitsha': 0.55, 'Mitchell\'s Plain': 0.60
            },
            'Nairobi': {
                'Westlands': 1.25, 'Karen': 1.22, 'Kilimani': 1.18,
                'Lavington': 1.15, 'Runda': 1.28, 'Kileleshwa': 1.10,
                'Upper Hill': 1.08, 'South B': 0.88, 'Eastleigh': 0.72,
                'Kibera': 0.55, 'Lang\'ata': 0.95
            },
            'Lagos': {
                'Victoria Island': 1.35, 'Ikoyi': 1.30, 'Lekki Phase 1': 1.22,
                'Banana Island': 1.45, 'Yaba': 0.88, 'Surulere': 0.82,
                'Ikeja': 0.90, 'Ajah': 0.78, 'Oshodi': 0.68,
                'Maryland': 0.85, 'Gbagada': 0.92
            },
            'Cairo': {
                'Zamalek': 1.35, 'Garden City': 1.28, 'Maadi': 1.18,
                'Heliopolis': 1.08, 'New Cairo (5th Settlement)': 1.15, '6th of October City': 0.85,
                'Dokki': 1.02, 'Mohandessin': 0.95, 'Nasr City': 0.82,
                'Shubra': 0.72, 'Downtown': 0.90
            },
            'Marrakech': {
                'Gueliz': 1.18, 'Hivernage': 1.25, 'Medina (Riads)': 1.15,
                'Palmeraie': 1.30, 'Agdal': 1.08, 'Targa': 1.02,
                'Massira': 0.78, 'Sidi Youssef Ben Ali': 0.72, 'Menara': 0.88,
                'Amelkis': 1.12
            },
            'Casablanca': {
                'Corniche (Ain Diab)': 1.25, 'Maarif': 1.15, 'Anfa': 1.22,
                'Gauthier': 1.12, 'Bourgogne': 1.08, 'Racine': 1.05,
                'Sidi Moumen': 0.68, 'Hay Hassani': 0.78, 'Derb Sultan': 0.82,
                'CIL': 0.88
            },

            // ===== SOUTH AMERICA =====
            'S√£o Paulo': {
                'Jardins': 1.30, 'Vila Madalena': 1.15, 'Pinheiros': 1.18,
                'Itaim Bibi': 1.25, 'Vila Ol√≠mpia': 1.20, 'Moema': 1.12,
                'Centro': 0.78, 'Liberdade': 0.85, 'Bela Vista': 0.92,
                'Santana': 0.82, 'Tatuap√©': 0.80
            },
            'Buenos Aires': {
                'Palermo (Soho)': 1.25, 'Recoleta': 1.28, 'Puerto Madero': 1.35,
                'San Telmo': 1.02, 'Belgrano': 1.10, 'N√∫√±ez': 1.05,
                'Caballito': 0.88, 'Almagro': 0.85, 'Flores': 0.75,
                'Villa Crespo': 0.92, 'Colegiales': 1.02
            },
            'Bogot√°': {
                'Zona T (Zona Rosa)': 1.25, 'Usaqu√©n': 1.22, 'Chic√≥': 1.20,
                'Chapinero Alto': 1.12, 'La Candelaria': 0.88, 'Cedritos': 1.02,
                'Suba': 0.82, 'Kennedy': 0.72, 'Teusaquillo': 0.95,
                'Santa B√°rbara': 1.15
            },
            'Lima': {
                'Miraflores': 1.28, 'San Isidro': 1.30, 'Barranco': 1.15,
                'Surco': 1.08, 'La Molina': 1.05, 'San Borja': 1.02,
                'Jes√∫s Mar√≠a': 0.90, 'Lince': 0.85, 'San Juan de Lurigancho': 0.68,
                'Callao': 0.72
            },
            'Santiago': {
                'Providencia': 1.22, 'Las Condes': 1.25, 'Vitacura': 1.35,
                '√ëu√±oa': 1.08, 'La Reina': 1.05, 'Santiago Centro': 0.92,
                'Lo Barnechea': 1.18, 'Macul': 0.82, 'La Florida': 0.78,
                'Puente Alto': 0.70
            },
            'Medell√≠n': {
                'El Poblado': 1.30, 'Laureles': 1.12, 'Envigado': 1.08,
                'Sabaneta': 0.95, 'Bel√©n': 0.88, 'La Floresta': 1.02,
                'Centro': 0.78, 'Robledo': 0.75, 'Aranjuez': 0.72,
                'Estadio': 0.85
            },
            'Montevideo': {
                'Pocitos': 1.22, 'Punta Carretas': 1.25, 'Carrasco': 1.30,
                'Ciudad Vieja': 1.08, 'Parque Rod√≥': 1.05, 'Buceo': 1.02,
                'Cord√≥n': 0.92, 'Tres Cruces': 0.88, 'La Blanqueada': 0.85,
                'Cerro': 0.70
            },
            'San Jos√© (CR)': {
                'Escaz√∫': 1.28, 'Santa Ana': 1.22, 'Rohrmoser': 1.12,
                'Los Yoses': 1.08, 'Barrio Escalante': 1.10, 'San Pedro': 0.92,
                'Sabana': 1.05, 'Heredia': 0.85, 'Alajuela': 0.78,
                'Cartago': 0.75
            },
            'Playa del Carmen': {
                'Playacar': 1.30, 'Centro (5th Avenue)': 1.18, 'Gonzalo Guerrero': 1.05,
                'Ejidal': 0.82, 'Colosio': 0.78, 'Playa Mamitas': 1.22,
                'Zazil Ha': 0.88, 'Luis Donaldo Colosio': 0.75,
                'Villas del Sol': 0.72
            }
        };

        // Auto-suggest currency when a city is selected (always updates, user can still override)
        function suggestCurrency(city, currencySelectId, hintId) {
            const suggestedCurrency = cityToCurrency[city];
            const currencySelect = document.getElementById(currencySelectId);
            const hint = document.getElementById(hintId);

            if (suggestedCurrency) {
                // Always update the currency to match the selected city
                currencySelect.value = suggestedCurrency;

                // Show hint so user knows they can change it
                hint.textContent = `üí° Auto-selected: ${suggestedCurrency} for ${city} ‚Äî you can change this`;
                hint.classList.add('show');
            } else {
                hint.classList.remove('show');
            }
        }

        // Populate neighborhood dropdown when a city is selected
        function populateNeighborhoods(city, neighborhoodSelectId, neighborhoodGroupId) {
            const select = document.getElementById(neighborhoodSelectId);
            const group = document.getElementById(neighborhoodGroupId);
            const neighborhoods = cityNeighborhoods[city];

            // Clear existing options
            select.innerHTML = '<option value="">City average (no adjustment)</option>';

            if (neighborhoods) {
                // Sort neighborhoods by multiplier (highest first)
                const sorted = Object.entries(neighborhoods).sort((a, b) => b[1] - a[1]);
                sorted.forEach(([name, multiplier]) => {
                    const option = document.createElement('option');
                    option.value = name;
                    const pct = ((multiplier - 1) * 100);
                    const sign = pct >= 0 ? '+' : '';
                    option.textContent = `${name} (${sign}${pct.toFixed(0)}% vs city avg)`;
                    select.appendChild(option);
                });
                group.style.display = 'block';
            } else {
                group.style.display = 'none';
            }
        }

        const cities = Object.keys(coliData).sort();
        const currencies = Object.keys(exchangeRates).sort();

        // Populate dropdowns
        function populateSelects() {
            const currentCitySelect = document.getElementById('currentCity');
            const targetCitySelect = document.getElementById('targetCity');
            const currentCurrencySelect = document.getElementById('currentCurrency');
            const targetCurrencySelect = document.getElementById('targetCurrency');

            cities.forEach(city => {
                let option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                currentCitySelect.appendChild(option);

                option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                targetCitySelect.appendChild(option);
            });

            currencies.forEach(curr => {
                let option = document.createElement('option');
                option.value = curr;
                option.textContent = curr;
                currentCurrencySelect.appendChild(option);

                option = document.createElement('option');
                option.value = curr;
                option.textContent = curr;
                targetCurrencySelect.appendChild(option);
            });
        }

        // Auto-suggest currency and populate neighborhoods on city dropdown change
        document.getElementById('currentCity').addEventListener('change', (e) => {
            suggestCurrency(e.target.value, 'currentCurrency', 'currentCurrencyHint');
            populateNeighborhoods(e.target.value, 'currentNeighborhood', 'currentNeighborhoodGroup');
        });
        document.getElementById('targetCity').addEventListener('change', (e) => {
            suggestCurrency(e.target.value, 'targetCurrency', 'targetCurrencyHint');
            populateNeighborhoods(e.target.value, 'targetNeighborhood', 'targetNeighborhoodGroup');
        });

        // Create quick select buttons
        function createQuickButtons() {
            const popularCities = ['London', 'New York', 'Dubai', 'Singapore', 'Tokyo', 'Paris', 'Sydney', 'Toronto', 'Berlin', 'Bangkok', 'Lisbon', 'Bali (Denpasar)'];

            const currentQuick = document.getElementById('currentCityQuick');
            const targetQuick = document.getElementById('targetCityQuick');

            popularCities.forEach(city => {
                let btn1 = document.createElement('button');
                btn1.type = 'button';
                btn1.className = 'quick-btn';
                btn1.textContent = city;
                btn1.addEventListener('click', () => {
                    document.getElementById('currentCity').value = city;
                    document.querySelectorAll('#currentCityQuick .quick-btn').forEach(b => b.classList.remove('active'));
                    btn1.classList.add('active');
                    suggestCurrency(city, 'currentCurrency', 'currentCurrencyHint');
                    populateNeighborhoods(city, 'currentNeighborhood', 'currentNeighborhoodGroup');
                });
                currentQuick.appendChild(btn1);

                let btn2 = document.createElement('button');
                btn2.type = 'button';
                btn2.className = 'quick-btn';
                btn2.textContent = city;
                btn2.addEventListener('click', () => {
                    document.getElementById('targetCity').value = city;
                    document.querySelectorAll('#targetCityQuick .quick-btn').forEach(b => b.classList.remove('active'));
                    btn2.classList.add('active');
                    suggestCurrency(city, 'targetCurrency', 'targetCurrencyHint');
                    populateNeighborhoods(city, 'targetNeighborhood', 'targetNeighborhoodGroup');
                });
                targetQuick.appendChild(btn2);
            });
        }

        // Show/hide error
        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 5000);
        }

        // Format salary input with commas as user types
        const salaryInput = document.getElementById('currentSalary');
        salaryInput.addEventListener('input', (e) => {
            // Remove commas and non-digit/non-dot characters
            let value = e.target.value.replace(/,/g, '').replace(/[^\d.]/g, '');

            if (value === '') {
                e.target.value = '';
                return;
            }

            const parts = value.split('.');
            let integerPart = parts[0];
            let decimalPart = parts[1] || '';

            // Remove leading zeros (but keep single zero)
            integerPart = integerPart.replace(/^0+(?=\d)/, '');

            // Format integer part with commas
            const formattedInteger = Number(integerPart).toLocaleString('en-US');

            let formatted = formattedInteger;
            if (decimalPart.length > 0) {
                decimalPart = decimalPart.slice(0, 2); // limit to 2 decimals
                formatted += '.' + decimalPart;
            }

            e.target.value = formatted;
        });

        // Calculate salary
        document.getElementById('calculateBtn').addEventListener('click', () => {
            const rawSalary = document.getElementById('currentSalary').value
                .replace(/,/g, '')
                .replace(/[^\d.]/g, '');
            const salary = parseFloat(rawSalary);

            const currentCity = document.getElementById('currentCity').value;
            const currentCurrency = document.getElementById('currentCurrency').value;
            const targetCity = document.getElementById('targetCity').value;
            const targetCurrency = document.getElementById('targetCurrency').value;
            const currentNeighborhood = document.getElementById('currentNeighborhood').value;
            const targetNeighborhood = document.getElementById('targetNeighborhood').value;

            if (!salary || salary <= 0) {
                showError('Please enter a valid salary amount');
                return;
            }
            if (!currentCity) {
                showError('Please select your current city');
                return;
            }
            if (!currentCurrency) {
                showError('Please select your current currency');
                return;
            }
            if (!targetCity) {
                showError('Please select a comparable city');
                return;
            }
            if (!targetCurrency) {
                showError('Please select a target currency');
                return;
            }

            // Get base cost of living indices
            const baseCOLICurrent = coliData[currentCity];
            const baseCOLITarget = coliData[targetCity];

            // Get neighborhood multipliers (1.0 if no neighborhood selected)
            const currentNeighMult = currentNeighborhood && cityNeighborhoods[currentCity]
                ? cityNeighborhoods[currentCity][currentNeighborhood] : 1.0;
            const targetNeighMult = targetNeighborhood && cityNeighborhoods[targetCity]
                ? cityNeighborhoods[targetCity][targetNeighborhood] : 1.0;

            // Adjusted COLI with neighborhood multiplier
            const currentCOLI = baseCOLICurrent * currentNeighMult;
            const targetCOLI = baseCOLITarget * targetNeighMult;

            // Get exchange rate (current -> target)
            const currentToGBP = 1 / exchangeRates[currentCurrency];
            const GBPtoTarget = exchangeRates[targetCurrency];
            const exchangeRate = currentToGBP * GBPtoTarget;

            // Calculate equivalent salary
            // Formula: Salary √ó (Target COLI / Current COLI) √ó Exchange Rate
            const colRatio = targetCOLI / currentCOLI;
            const equivalentSalary = salary * colRatio * exchangeRate;

            // Format currency
            const formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: targetCurrency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });

            const formattedAmount = formatter.format(equivalentSalary);

            // Calculate differences
            const difference = ((equivalentSalary / (salary * exchangeRate)) - 1) * 100;
            const diffText = difference > 0
                ? `${difference.toFixed(1)}% higher`
                : `${Math.abs(difference).toFixed(1)}% lower`;

            // Format original salary in current currency
            const formattedOriginalCurrent = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: currentCurrency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(salary);

            // Location labels (city + neighborhood if selected)
            const currentLabel = currentNeighborhood ? `${currentNeighborhood}, ${currentCity}` : currentCity;
            const targetLabel = targetNeighborhood ? `${targetNeighborhood}, ${targetCity}` : targetCity;

            // Update result
            document.getElementById('resultAmount').textContent = formattedAmount;
            document.getElementById('exchangeRate').textContent = `1 ${currentCurrency} = ${exchangeRate.toFixed(2)} ${targetCurrency}`;
            document.getElementById('colAdjustment').textContent = `${colRatio.toFixed(2)}x (Cost of living ratio)`;
            document.getElementById('buyingPower').textContent = `Same as ${formattedOriginalCurrent} in ${currentLabel}`;

            const note = `
                Your salary adjusted from <strong>${formattedOriginalCurrent}</strong> in ${currentLabel}
                to <strong>${formattedAmount}</strong> in ${targetLabel}.
                That's ${diffText} due to cost of living differences.
            `;
            document.getElementById('comparisonNote').innerHTML = note;

            // Build step-by-step explanation
            const salaryInGBP = salary * currentToGBP;
            const formattedGBP = new Intl.NumberFormat('en-US', {
                style: 'currency', currency: 'GBP',
                minimumFractionDigits: 0, maximumFractionDigits: 0
            }).format(salaryInGBP);

            const convertedNoAdj = salary * exchangeRate;
            const formattedConverted = new Intl.NumberFormat('en-US', {
                style: 'currency', currency: targetCurrency,
                minimumFractionDigits: 0, maximumFractionDigits: 0
            }).format(convertedNoAdj);

            // Build neighborhood explanation steps (only if neighborhoods selected)
            let neighborhoodSteps = '';
            let stepCount = 3;

            if (currentNeighborhood || targetNeighborhood) {
                stepCount++;
                let neighText = '<strong>Neighborhood adjustment:</strong> ';
                const parts = [];
                if (currentNeighborhood) {
                    const pct = ((currentNeighMult - 1) * 100);
                    const sign = pct >= 0 ? '+' : '';
                    parts.push(`${currentNeighborhood} in ${currentCity} is <strong>${sign}${pct.toFixed(0)}%</strong> vs the city average (adjusted COLI: ${currentCOLI.toFixed(1)})`);
                }
                if (targetNeighborhood) {
                    const pct = ((targetNeighMult - 1) * 100);
                    const sign = pct >= 0 ? '+' : '';
                    parts.push(`${targetNeighborhood} in ${targetCity} is <strong>${sign}${pct.toFixed(0)}%</strong> vs the city average (adjusted COLI: ${targetCOLI.toFixed(1)})`);
                }
                neighText += parts.join('. ') + '.';

                neighborhoodSteps = `
                    <div class="explanation-step">
                        <div class="step-number">${stepCount}</div>
                        <div class="step-text">${neighText}</div>
                    </div>
                `;
            }

            const formulaStep = stepCount + 1;
            const meaningStep = stepCount + 2;

            // Build formula text based on whether neighborhoods are used
            let formulaText = `${formattedOriginalCurrent} √ó ${colRatio.toFixed(2)} (cost of living`;
            if (currentNeighborhood || targetNeighborhood) {
                formulaText += `, incl. neighborhood`;
            }
            formulaText += `) √ó ${exchangeRate.toFixed(2)} (exchange rate) = <strong>${formattedAmount}</strong>`;

            const explanation = `
                <div class="explanation-title">How we calculated this</div>
                <div class="explanation-step">
                    <div class="step-number">1</div>
                    <div class="step-text">
                        <strong>Your salary:</strong> ${formattedOriginalCurrent} in ${currentLabel} (${currentCurrency})
                    </div>
                </div>
                <div class="explanation-step">
                    <div class="step-number">2</div>
                    <div class="step-text">
                        <strong>Currency conversion:</strong> ${formattedOriginalCurrent} ‚Üí ${formattedConverted} at a rate of 1 ${currentCurrency} = ${exchangeRate.toFixed(4)} ${targetCurrency}
                    </div>
                </div>
                <div class="explanation-step">
                    <div class="step-number">3</div>
                    <div class="step-text">
                        <strong>City cost of living:</strong> ${currentCity} has a base cost index of <strong>${baseCOLICurrent}</strong> and ${targetCity} has <strong>${baseCOLITarget}</strong> (New York = 100 baseline).${currentNeighborhood || targetNeighborhood ? '' : ` The ratio is <strong>${colRatio.toFixed(2)}x</strong>.`}
                    </div>
                </div>
                ${neighborhoodSteps}
                <div class="explanation-step">
                    <div class="step-number">${formulaStep}</div>
                    <div class="step-text">
                        <strong>Final formula:</strong> ${formulaText}
                    </div>
                </div>
                <div class="explanation-step">
                    <div class="step-number">${meaningStep}</div>
                    <div class="step-text">
                        <strong>What this means:</strong> To maintain the same purchasing power you have with ${formattedOriginalCurrent} in ${currentLabel}, you would need ${formattedAmount} in ${targetLabel}.
                    </div>
                </div>
            `;
            document.getElementById('explanationSection').innerHTML = explanation;

            // Show result and scroll into view
            const resultBox = document.getElementById('resultBox');
            resultBox.classList.add('show');
            setTimeout(() => {
                resultBox.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        });

        // Reset form
        document.getElementById('resetBtn').addEventListener('click', () => {
            document.getElementById('currentSalary').value = '';
            document.getElementById('currentCity').value = '';
            document.getElementById('currentCurrency').value = '';
            document.getElementById('targetCity').value = '';
            document.getElementById('targetCurrency').value = '';
            document.getElementById('currentNeighborhood').value = '';
            document.getElementById('targetNeighborhood').value = '';
            document.getElementById('currentNeighborhoodGroup').style.display = 'none';
            document.getElementById('targetNeighborhoodGroup').style.display = 'none';
            document.getElementById('resultBox').classList.remove('show');
            document.querySelectorAll('.quick-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.currency-hint').forEach(h => h.classList.remove('show'));
        });

        // Allow Enter key to calculate
        document.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('calculateBtn').click();
            }
        });

        // Dark mode toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const themeLabel = document.getElementById('themeLabel');

        function setTheme(dark) {
            if (dark) {
                document.body.classList.add('dark');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeLabel.textContent = 'Light Mode';
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.classList.remove('dark');
                themeIcon.textContent = 'üåô';
                themeLabel.textContent = 'Dark Mode';
                localStorage.setItem('theme', 'light');
            }
        }

        themeToggle.addEventListener('click', () => {
            setTheme(!document.body.classList.contains('dark'));
        });

        // Load saved theme preference
        if (localStorage.getItem('theme') === 'dark') {
            setTheme(true);
        }

        // === NAV BURGER MENU (mobile) ===
        const navBurger = document.getElementById('navBurger');
        const navDropdown = document.getElementById('navDropdown');

        navBurger.addEventListener('click', (e) => {
            e.stopPropagation();
            navDropdown.classList.toggle('open');
        });

        document.addEventListener('click', (e) => {
            if (!navDropdown.contains(e.target) && e.target !== navBurger) {
                navDropdown.classList.remove('open');
            }
        });

        // === SIDEBAR BURGER MENU (mobile) ===
        const sidebarBurger = document.getElementById('sidebarBurger');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const sidebar = document.querySelector('.sidebar');

        function toggleSidebar() {
            const isOpen = sidebar.classList.contains('open');
            if (isOpen) {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('show');
                sidebarBurger.classList.remove('active');
            } else {
                sidebar.classList.add('open');
                sidebarOverlay.classList.add('show');
                sidebarBurger.classList.add('active');
            }
        }

        sidebarBurger.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);

        // === SIDEBAR COMPONENTS ===

        // === BLOG SIDEBAR: show 3 random articles on each page load ===
        (function() {
            const articles = Array.from(document.querySelectorAll('[data-blog-article]'));
            // Shuffle using Fisher-Yates
            for (let i = articles.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [articles[i], articles[j]] = [articles[j], articles[i]];
            }
            // Hide all, then show first 3
            articles.forEach(a => a.style.display = 'none');
            articles.slice(0, 3).forEach(a => a.style.display = '');
        })();

        // Initialize
        populateSelects();
        createQuickButtons();

    </script>
</body>
</html>